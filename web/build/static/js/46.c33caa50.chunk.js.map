{"version":3,"sources":["assets/images/Job milestones-preview.png","pages/chooseTheJob/index.tsx"],"names":["withRouter","props","useState","editItem","setEditItems","stateData","setStateData","useEffect","preFetch","a","location","state","tradieId","path","cancelJob","invitedJobIds","page","response","success","data","ChooseJob","console","log","handleSubmit","key","Object","keys","length","jobId","InviteForJob","history","push","filter","find","item","invitationId","CancelInviteForJob","className","Fragment","onClick","map","index","checked","onChange","e","prev","target","checkOnClick","type","id","htmlFor","tradeName","jobName","renderTimeWithCustomFormat","fromDate","toDate","jobDescription","substring","src","milestonesPlaceholder","alt","style","marginTop"],"mappings":"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","file":"static/js/46.c33caa50.chunk.js","sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKIAAADUBAMAAADtp+X0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAwUExURUdwTO7w9fb3+cnJd/b3+bnC0uDm8AtBqMLK2f7mAHeVzUdvvYeVU9HHIChVlDhgiYKEvNwAAAAEdFJOUwD+iM6DT8W0AAACiUlEQVR42u2ZwWoUQRCGB99gYRiFXDzkRVrGUcxJcJNcF8aN6N0OsgkISQh5g4aol4CHXCOKPkDYJwi55Cq+hb0z290z2cluZ+sPgfD/h4Wdw0f1VnVV7fzJozRHSj1NVnOsniUpmKiSHC0SSSRxeeLR6Z/f60Ci+q4n+oEj1kCtP6KIK9rpBEMsPFB/whC3AtEF+bYfo83yBuJPPRPkfhSx/6ab+Eo3tVc9iwP297qJWy3iWfXsXRzxhlO70tG7k49tQGZ8eDsX0mzXxOeeOP7y136mYqJPzMiYC58aCXGtotno/pkqxhMx8UV14Cu9e2m++RqfU+EHUcSRDW/HmHNPnFfhkURzNTbHoSDnXb2433FsTJ2XaYxzKnw9MjMWWOUFkZm6emyQX5sXW0J86YrxvCbK74yaXphjQM9tdYpRnRdIp3jc0c3yXtDtie2OW85Mhc+3nzMLpsImZHLtR5Z0/HR9chi0xKnzD+gNIM83psBfsL2n2IAAW9vee7vtvYZvpCmcyM2eRBIXEPFvZ/BvkPBvuSiKoqhu0VfgTkEiifdMVNlgAP1fmA0nGuCINXA4LFHEYuiUgogTVq/Xk587CSEOHDmF+AoWNE24D1LmK6iQkcKxZb6Cx1ThlgBfoVk0mSw3nhhqpkAQVePQ7S8QYi4r8qTjoBmEWM4SRb7CdWIp9hU6YxT5Cp1Eka/Qzgwi1+oOiOgKx99CVzDATtHVzWS+ggrH9nChr7BgKizhK7jJpcLEFvoK9XRVzekq9RUyvwEIl4rZLUW6+NzlJmXrz9Y2XQASSaSvQF+BoiiKvgJ9Be4UJJJIX4G+An0F+gr0Fegr0Fegr0Bfgb4CfQUSSaSv8LB9hf+h5+I0u8ahDgAAAABJRU5ErkJggg==\"","import React, { useState, useEffect } from 'react'\nimport milestonesPlaceholder from '../../assets/images/Job milestones-preview.png';\nimport { renderTimeWithCustomFormat } from '../../utils/common';\nimport { ChooseJob, InviteForJob, invitedJobIds, CancelInviteForJob } from '../../redux/jobs/actions';\nimport { withRouter } from 'react-router-dom';\n\nconst ChooseTheJob = (props: any) => {\n    const [editItem, setEditItems] = useState<{ [index: string]: any }>({});\n    const [stateData, setStateData] = useState([]);\n\n    const checkOnClick = (e: any, index: any) => {\n        if(editItem[index]){\n            setEditItems({});\n            return\n        }\n        setEditItems((prev) => ({ [index]: e.target.checked }));\n    }\n\n    useEffect(() => {\n        preFetch();\n    }, [])\n\n    const preFetch = async () => {\n        const { tradieId, path, cancelJob } = props?.location?.state;\n        if (cancelJob) {\n            let response = await invitedJobIds({ tradieId, page: 1 });\n            if (response?.success) {\n                setStateData(response.data);\n            }\n        } else {\n            let response = await ChooseJob({ page: 1 });\n            if (response?.success) {\n                setStateData(response.data);\n            }\n        }\n    }\n\n    useEffect(() => {\n        console.log('Here!=====>', { editItem });\n    }, [editItem]);\n\n    const handleSubmit = async () => {\n        const { tradieId, path, cancelJob } = props?.location?.state;\n        let key: any = '';\n        if (Object.keys(editItem).length) {\n            key = Object.keys(editItem)[0];\n        }\n\n        let data: any = { tradieId: tradieId, jobId: key }\n        if (!cancelJob) {\n            let response = await InviteForJob(data);\n            if (response.success) {\n                props.history.push('/choose-the-job-success');\n            }\n        } else {\n            let filter: any = stateData.find((item: any) => item.jobId === key);\n            if (filter?.invitationId) {\n                data['invitationId'] = filter?.invitationId;\n                let response = await CancelInviteForJob(data);\n                if (response.success) {\n                    props.history.push(`/tradie-info${path}`);\n                }\n            }\n        }\n    }\n\n    const { tradieId, path, cancelJob } = props?.location?.state;\n    return (\n        <div className=\"app_wrapper\">\n            <div className=\"section_wrapper\">\n                <div className=\"custom_container\">\n                    <div className=\"form_field\">\n                        <div className=\"flex_row\">\n                            <div className=\"flex_col_sm_5\">\n\n                                <React.Fragment>\n                                    <div className=\"relate\">\n                                        <button\n                                            className=\"back\"\n                                            onClick={() => {\n                                                props.history.push(`/tradie-info${path}`)\n                                            }}\n                                        >\n                                        </button>\n                                        <span className=\"title\">\n                                            {'Choose the job'}\n                                        </span>\n                                    </div>\n                                </React.Fragment>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"flex_row\">\n                        <div className=\"flex_col_sm_5\">\n                            <ul className={`milestones`}>\n                                {stateData?.length > 0 ?\n                                    stateData.map((item: any, index: any) => (\n                                        <li key={index}>\n                                            <div className=\"checkbox_wrap agree_check\">\n                                                <input\n                                                    checked={editItem[item?.jobId] == true ? true : false}\n                                                    onChange={(e: any) => { checkOnClick(e, item?.jobId) }}\n                                                    className=\"filter-type filled-in\"\n                                                    type=\"checkbox\"\n                                                    id={`milestone${index}`} />\n                                                <label\n                                                    htmlFor={`milestone${index}`}>\n                                                    {`${item?.tradeName}`}\n                                                </label>\n                                                <div className=\"info\">\n                                                    <span>{item?.jobName}</span>\n                                                    <span>\n                                                        {renderTimeWithCustomFormat(\n                                                            item?.fromDate,\n                                                            item?.toDate,\n                                                            '',\n                                                            ['DD MMM', 'DD MMM YY']\n                                                        )}\n                                                    </span>\n                                                    <span>\n                                                        {`${item?.jobDescription.substring(0, 120)} ${item?.jobDescription?.length > 120 ? '...' : ''}`}</span>\n                                                </div>\n                                            </div>\n                                        </li>\n                                    )) : (\n                                        <figure className=\"placeholder_img\">\n                                            <img\n                                                src={milestonesPlaceholder}\n                                                alt=\"milestones-placeholder\"\n                                            />\n                                        </figure>\n                                    )}\n\n\n                                <div style={{ marginTop: '50px' }} className=\"form_field\">\n                                    <button\n                                        onClick={handleSubmit}\n                                        className={`fill_btn full_btn btn-effect ${!Object.keys(editItem).length ? 'disable_btn' : ''}`}>\n                                        {`${cancelJob ? 'Cancel' : ''} Invite `}\n                                    </button>\n                                </div>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default withRouter(ChooseTheJob);\n"],"sourceRoot":""}