(this["webpackJsonptickt-web"]=this["webpackJsonptickt-web"]||[]).push([[19],{253:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGYAAABmCAYAAAA53+RiAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAU8SURBVHgB7Z3PbhtVFMa/OzNNGoKEVVYJjZS+AATYdcN03S7ChjR00fAEyRNAyhO4T0C6aUQ3BAnWHTbZUQIvUKOmhQ3ISCTOn3pu75n4ps547NRq7Pksn5800ujad64939x77r9zxqDFdPxoIcXL2MBUfJqFqTeS21XkkO9aNBfRhRTYOEiWa/n0d+LN9W55DFDbS5Y38unvxpuxu17cLd8EDqr15Kt6e1ol/q5yhMtr3fIEQPJ/spzk06fjzRULzHfLt58sr+fTLseb8+56K93yGKRbe8mdnXz6VPxw7ey9tnV3v7f8fQteX6BZCXr8KGWw5O+9EcXlpOgJV4aP0yMOkdYjA7sYBJlaa1BKJ4RZTBHWImnnbIo6FArE1jh7WwmgUKLCkBJJ1YFCg+qhKIqiKGOKkQlJOdlLvtiBUjpej6htlliFIcDroQNMUlQYUlQYUlQYUlQYUlQYUiLZOAGFBtVDURRFUcYU47etFm3/VIaP10PHMaSoMKSoMKSoMKSoMKSoMKRE4skFhQavh8EIYp+i0ryExTDEZ7BYaLnnebe5evbnLHaaFr+Ex9gy10bPzWSkhLF/OQEsVu2Jz2PlTfMZi42DI9ybujY6rcNICCM1BJP4xr6l15v7s1Uc4t4o1CB6YaSWWIvHuDjH3drhIW6w1x7qXtnRrrMfFyuKMD85icdybRBjxI9eTor83stkADUlD2XN8XoEEtygV4CDMhCbMmBRhKzmZPaLCK8HZ1PmDD2GEwxivlUWHXTCZE3YEGMOSFmNp3wRQSLw0fcTvP3r+/j+5w+y86Vbz3H9k3/6yY6JS9mDQBWAgqrGtGzLCvrk2d9TTpir2fHsxRT6xQS4y2ZrqISRaRaUQ6XEsguhEiab+yqrbFNe2UVEEu9LTvZRPq4ZK2/QZzgGnF6PKB+ErWTmz/vC9pMrHXZk+7crZz7P+lptzM02XIfgX/TCksRq83pQzZWlL3J3tIDVbz/MjHw/LN3cxf2v/zj3e8Esz/3QFUxS2MYxUo17dluXbu3i+qdnxynbT9w45qeTWiS1I//53EwDb1g2DZEE9pQTEltTc0dPI1xsK8ypMPL50s3n6BeWJXavR9QWbXUdJeN6Zb+bsnpHliPOgdeDysYEFglKQvYHgAgu43+MLZTU1ocnZdNAZfxlLb65iwdu7mq1n3xzM/uZ0c/OZ/sfKstmDbZ9AHSzy0GIqrM1fQkjBv+8AWQvZAcNyKAbx5gZ1GyK+xgSUhbjxgzKAWZwnPUQaxg8tVZZdETyAgKQIe29W8m8MaTNGFS2xetBva9Mthi5J+cHXLw4tZcpPp+4yhujTTf8kUI/iSmdAXOIjy+iQyDXkGuNwh7mkdtUnqZYd9M2d/vIVneCPDg6RlU3lQ8Y74bhBIrd8RFybhjuqJlRd8OQ1z/JSdFrqJTh4/WIWJZUlRO8HrqCSYoKQ4oKQ4oKQ4oKQ4oKoyiKoiiKwoC+nZwMr4es+a+00tahlI7XQ8cxpKgwpKgwpKgwpKgwpKgwpEQGIZVfyLijeiiKoijKmGKm4oeZX3kj+bIKpXS8Hq67bKgi2407Xg8dYJKiwpASWNi6Caw2ZyRIU2Zh6m4FM0pM2lRhSGjCZp2wU48yWWsOA7NqU/ufTxPlGsntjt7adPxowaLZNeqqvPq8aA+Bf/lmERKWqsh5SmLd9wpxLzEk8yG9JLRUW1SpDsRlu+hdBuI01MtfqOglrnLf2pbnOzBIt/aSOx3e0dL7au94mcC8Z1L7o/9dZ2xMmqZ/QikFufcW4ekD9gqSqNctyXDB6QAAAABJRU5ErkJggg=="},269:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABqCAYAAABUIcSXAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOGSURBVHgB7dxPSBRhHMbx37ua5BqtB7M6uEGeAvXQrRYPRhAZgcegg3SJDgV2iIKKirpEhwq65MkOgbfqEgQigUmdglyhSwWthzKEVHLUrJnmnW1Lopb9M+++79M+HxAsUISvM/vsOLtKQsvLa5f8wB9SSlqFnBEEMq9EjSSTTaeVt/L1Zvg/Q0LOCnz/ilryVj/zSHKcCo8sb3k1EHJeQggCQ4FgKBAMBYKhQDAUCIYCwVAgGAoEQ4FgKBAMBYKhQDAUCIYCwVAgGAoEQ4FgKBCNYtnk1JzcuP9asu8WZHFpTUx5OXJAOtqTgspqqLsP38iF4azUmr/6TFRDWlRjWlBYO/XlZj0rkbTge07W5g5L8C0nKKyFujg8JTahxbIWSj822YYUy1qoBYPDoRwosTjPBSMWQ/3keiyGWsflWAz1B1djMdRfuBiLof7BtVgMVYRLseomVO6j9+vzho2Homt9pXAllvWr57UyOvZeMj1t+X8kUtK07ZUgqZsjanQs58Rlq0rV1WPU4NUX0ZGFyNqLrbf0PxBbMt1tsjc8DXa0t5T1demtyd+nzxqrm8eo9Sazc9FHuXSkTE+v2MB5DoKhQDAUCIYCwVAgIFbf5pYN0t2ZEhNQngQ7H6ojfO7y9M6+KJYJ028XpO/UuLjO+VNf/57txiJpXeGRinAHrfOhHj//ILlPnpiib6WeMfj94+L8qW9m1pOBsxOSNvBbr29Zmw5DIYAYEzqW/qhnnOcgOM85z+PBeZ7Hec55Hg99ajL5ggL9Oi3O8xjo+dx3ctzIPNeynOfx4TznPIfBec55Hg/T81yHGjg3Ia6r+3meiW4b4zyvGud5Huc553l8OM85z2HAzPPUpsoHxf9wNELM80fXe6taZigTvBiIeV7tfEaZ4MVAzPNqoUzwYiDm+e5jT6LXNFVK38mEDmaej87ivLeeCZznIBgKBEOBYCgQ1kKlDP7pwhSbP7O1UF07zfzF1qSD4ZNvW6yFOnN0lyDRl7KO7N8htlgLpS/rXDveIwgK1xttsvbOLQX6yez54anoUtGiI+/cXFA4ik4MdBq9HaAU1kNRaTjPQTAUCIYCwVAgGAoEQ4FgKBAMBYKhQDAUCIYCwVAgGAoEQ4FgKBAMBYKhQDAUCIYCkQgCmRdym5L5hCj/tpDTfD+4p/QnX7yVW0rUoFLSKuSM6GwXHkgtzc2XfwBH1Wvv13RRfwAAAABJRU5ErkJggg=="},272:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF7SURBVHgB7ZRfTsJAEMa/2WpCBJMeoZ5AuMHWC/gIPAknUE9guAGcAHxQOAX0BuINeoS+NCESOs6u1DRSAi595Es2TffP79uZ2V3grAMinKiangaeokcwmkKLNxkPVlE3rsTAwBXRQiC+GCyFpqU73jCHuYmCowpwCLCVRp1Qvjfy63uKn/J5zgYeoAUeSBKSGlaJ6bO7NpGwus3nXeCfsjtX6iGdtwd1PTVJHq/pauHrcbhCzbdpYkycDH7TwhzU72ZBOu/0iyYK7MPUADzI1xydomLOiTGSXfbEZJxG3QmY+wA3t/UIi6foqAj+FNQCGnqaMOhFTGAiudbvyRq0LMKNDh7TMng+1tCzIRPkDtAwjdrPZeuVK9yMZYR72Jxno30McoXvGzvKoCp4qUGVcKOdU+SB5JqTv+GsdSrcqKzIcs15WQW83IDMs5t9VgH/wRVU128C9z6kdyK/iX3jYVviAt+J4BJf8Rbcs82Is1dXeKlMSkzDWVt9A17W++nARZpyAAAAAElFTkSuQmCC"},282:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADCSURBVHgB7ZSxDoJAEESXE62tDI3J8il0xB/Wjk/xEhtiZa3hzlukECFx50ICBa/gcoSZgdsJRCtzkyAPH46nq6zPlyse9cVqNIYgvFx4tzXVPitZo4ACzMYXIcQiIdARCRmX7JqkClIOW/vvuOAANCQqAAmJDtCGpL+iropMClzT27aDD2v+fXOkRZ7iGWoHX3C/nXNSIjXt3pqlvp8a94mewZh5bScastY8KgAxhwNQcwH6F6HmQkoQbQ3V5ivL4A2SyXb0mzHgZQAAAABJRU5ErkJggg=="},284:function(e,t,a){"use strict";t.a=a.p+"static/media/job-complete-bg.94d2e3ea.png"},303:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC0SURBVHgBjY/NDYJAEIXnrZEY1MQSKAE6WDvAk+FIJWIJluCJYBEuHWgJlMDBv8Sw4w6KIR4Mc5o3883LG6KBhX9LXxcbgOKG7UrJYKZz/QvNdREDnBFxOCYVYqoPIcEaBkrP3tK6TOuJzoMRcHL8wsHbyzHJWkcmqsEcP+EbB2kFmDdkdwJ9M4qDLJ0IevHPV7OOOtU6PsqkssxL51x95pU80M+sukZgj+8RMe8bdyS6D74AXoxFvuQfCTcAAAAASUVORK5CYII="},304:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFVSURBVHgB7ZTPTcMwFMbfswTqn0tG6AhhA6cT9ATKjUwATECYoGKC9kbLhQ2oN6AjZAQfaFRU4YedJlUIjmOExKHqJ0WKbL/f5/fZMsBJRy+0Dfb54gYZ8nOVJ1Ik0gXo8acRY2zKlHp8F7FozjOrq4Yj0WSHg1XAZ4ETjrgya4nRxLbGaqCUuiOADIDCNpMDHGCkt7Q+Ux+pjWWNyAqgPKri+j4H2SdRtBVxBr4dGJkCpQvrnZhx040v3NmBtROEORCGxtAH7mXww2QvL7gRAw/1YCsRUNa2JXzg3gY77L9UsehPAsH1cLyY+dR2GpQgDmUsQCyqTAbj5X1XPXbCNQgamQ/5cwiozK0KCDHNX68efm1Qg0sNv2hmXpq8mX+XCbPDl9MKbiKxHehGXK6BKCl2SZTq9+vW24D217GAF6AWbUQ8P5gAtb5ZVrkeub+sPen/9QVDS7zkZB34uAAAAABJRU5ErkJggg=="},310:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJISURBVHgBtZYxaBNRGMf/30ujaToYh+Jmrm4OFsUOgojnplJQTBwyaSZ1atHFVrFGsToI6lLEpV2kFVJRkOJmKggOgRYH11xcO3gdUkti8vm91xhik1yu9vKDx7179973vfu+d//vCB7E7NlYWUXHiNlmwCJp9UeutNUa194z6N1mLuV0skHtBiP2vBUimpWuDT8Q5qo1zrRzpLYP9NsLY2J8xbdxDeNqiNSKrB3f/ijUfBO130wpwhPpRrBzIkQ4Gz50GZVCdrnFgd553fiukJjbfVZy/beT/Vq/b8RchyWGQCC3yrVjOicmByFFU8EZ13CsfkhA9d0X0APC/Gu/hJ0vokeUVWRcKagL+A8mEll8mb6N+OBaxznEdFpJmo96GTp1+HvL2OhIHpOXshiOOzgSL3ott3SSOyZ3WBbP33xq2r5oyYzpHb+8NmP6jxeT+JAfQTcHnrilAYwez2Pp7kPzNkt3HoizDcx8PIfpt8luy0HRMwuFJhFr4aDsWBttjvW3ooWTk36+SXIVMRyvKT/WBnH+0T0U5arR19SzW/AHr4bCVmKIiGyvaesbA3j92caBmIvrr24Yp36oMV6Q1vwK9f9ED6gyDyk3l3ZFbnMIGsZcQ4uq4DS2qlRQuGIzozvGgalEjAyCQmz9rW6NelAR/d5rJQhdEt4NIs6UPqUaZ/ifilZ2FnN7pFiIfJzAzquazuVEs3HjsN1MI+HAfdnOFfgjJycm3a7ok9cq7UjLuVHcLVE0uiW/MA7pxrzch83n5iR24A9tmcrgMfq+CQAAAABJRU5ErkJggg=="},311:function(e,t,a){"use strict";a.d(t,"f",(function(){return d})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return b})),a.d(t,"d",(function(){return j})),a.d(t,"g",(function(){return m})),a.d(t,"e",(function(){return v})),a.d(t,"c",(function(){return p}));var n=a(2),c=a.n(n),s=a(12),i=a(13),l=a(9),r=a(4),o=a(20),d=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n,s,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(r.a)(!0),a="",n=1===o.a.getItem("userType"),console.log({data:t,isUserType:n}),a=n||(null===(s=t.tradieId)||void 0===s?void 0:s.length)?"".concat(l.a.quote,"quoteByJobId?jobId=").concat(t.jobId,"&tradieId=").concat(t.tradieId):"".concat(l.a.quote,"quoteByJobId?jobId=").concat(t.jobId,"&sort=").concat(t.sortBy),e.next=7,i.a.get(a);case 7:if(d=e.sent,Object(r.a)(!1),200!==d.status_code){e.next=11;break}return e.abrupt("return",{success:!0,data:null===d||void 0===d?void 0:d.result});case 11:return Object(r.c)(!0,d.message),e.abrupt("return",{success:!1});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(r.a)(!0),e.next=3,i.a.postToJson("".concat(l.a.quote,"addQuote"),t);case 3:if(a=e.sent,Object(r.a)(!1),200!==a.status_code){e.next=7;break}return e.abrupt("return",{success:!0});case 7:return Object(r.c)(!0,a.message),e.abrupt("return",{success:!1});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(r.a)(!0),e.next=3,i.a.postToJson("".concat(l.a.quote,"addItem"),t);case 3:if(a=e.sent,Object(r.a)(!1),200!==a.status_code){e.next=8;break}return Object(r.c)(!0,a.message),e.abrupt("return",{success:!0,data:null===a||void 0===a?void 0:a.result});case 8:return Object(r.c)(!0,a.message),e.abrupt("return",{success:!1});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(r.a)(!0),e.next=3,i.a.putToJson("".concat(l.a.quote,"deleteItem"),t);case 3:if(a=e.sent,Object(r.a)(!1),200!==a.status_code){e.next=8;break}return Object(r.c)(!0,a.message),e.abrupt("return",{success:!0,data:null===a||void 0===a?void 0:a.result});case 8:return Object(r.c)(!0,a.message),e.abrupt("return",{success:!1});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(r.a)(!0),e.next=3,i.a.putToJson("".concat(l.a.quote,"updateItem"),t);case 3:if(a=e.sent,Object(r.a)(!1),200!==a.status_code){e.next=8;break}return Object(r.c)(!0,a.message),e.abrupt("return",{success:!0});case 8:return Object(r.c)(!0,a.message),e.abrupt("return",{success:!1});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.putToJson(l.a.acceptDeclineRequest,t);case 2:if(200!==(a=e.sent).status_code){e.next=5;break}return e.abrupt("return",{success:!0,data:null===a||void 0===a?void 0:a.result,msg:a.message});case 5:return Object(r.c)(!0,a.message),e.abrupt("return",{success:!1});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.putToJson("".concat(l.a.job,"closeQuoteJob"),t);case 2:if(200!==(a=e.sent).status_code){e.next=6;break}return Object(r.c)(!0,a.message),e.abrupt("return",{success:!0,data:null===a||void 0===a?void 0:a.result});case 6:return Object(r.c)(!0,a.message),e.abrupt("return",{success:!1});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},312:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAW0lEQVRIS2NkoDFgpLH5DMPMAm7HFf+pEWRf90fAQwYliGhuATVcj27GMIvk4RtEpKYunMkUVxDR3AJK4mY0mRIMPfoGEampBZfzR0tTghGLrIC+kUyS04hUDAD9mBgZUEFJtQAAAABJRU5ErkJggg=="},323:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADHSURBVHgBlZLNCcJAEIXfDiJ4ECzAQzx70QqMXQhe7MB0oCUoNuBFsItgBbGD7EGTAjxFTNbZNYFkMbD5YNhh980s8wOUqBgjlWLHFhYJlDaVIPo8sEENYcQpPKUQsuvhPzLLsBxMIE0AZ4vr4uH6as7XZdUIEhnmVH7ZlrmOV/QREBG2cEQILIjPGdzxCR0RXLDuju8kBu7E7bzZD9PgZMwmL3AkeuPAvrQy/QbURPbGOHceXONWz4RriqrV0PXlT+z12lSaL35TUd4wVsm0AAAAAElFTkSuQmCC"},359:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABCUExURUdwTApAqAtBqAtApxBAnwpBqAtBqAtBqAtBqApBqAtBqQtApwtApwtAqAhApwtBqN/l70BquihXshhLrKG128nU6Dt9AScAAAAPdFJOUwBwz2AQgKCQ79/vUEC/IAN6vnAAAAC9SURBVCjPjZPREoQgCEXRdNVVQ7P+/1fXmmkCWre9b3jEAbkAnDLJaY/os4twk7EdnQp25lQReFyYKHV4k7voC7/o9SOX5E84kNrpHEb4bTq25KDV2khoO6bJtZSFp0ccY0y8bIkdZBouAmtgv9lK4bUD72XbeCzxKjAf1bqKxzWLF1YZZt5YE9hBEn1XGkcwfozD80iMHw00HIZUIzz9Y6YnKz4ZudtRGM4rviazJRe8Nfc1iy7vK6hduuAHQJApaeIDQI4AAAAASUVORK5CYII="},397:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),s=r(c),i=r(a(11)),l=r(a(398));function r(e){return e&&e.__esModule?e:{default:e}}var o=!1,d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChoose=a.onChoose.bind(a),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){this.isDropboxReady()||o||(o=!0,(0,l.default)("https://www.dropbox.com/static/api/2/dropins.js",{attrs:{id:"dropboxjs","data-app-key":this.props.appKey}}))}},{key:"isDropboxReady",value:function(){return!!window.Dropbox}},{key:"onChoose",value:function(){if(!this.isDropboxReady()||this.props.disabled)return null;var e=this.props,t=e.success,a=e.cancel,n=e.linkType,c=e.multiselect,s=e.extensions;window.Dropbox.choose({success:t,cancel:a,linkType:n,multiselect:c,extensions:s})}},{key:"render",value:function(){return s.default.createElement("div",{onClick:this.onChoose},this.props.children?this.props.children:s.default.createElement("button",null,"Open dropbox chooser"))}}]),t}(c.Component);d.propTypes={children:i.default.node,appKey:i.default.string.isRequired,success:i.default.func.isRequired,cancel:i.default.func,linkType:i.default.oneOf(["preview","direct"]),multiselect:i.default.bool,extensions:i.default.arrayOf(i.default.string),disabled:i.default.bool},d.defaultProps={cancel:function(){},linkType:"preview",multiselect:!1,disabled:!1},t.default=d},398:function(e,t){function a(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,c){var s=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");"function"===typeof t&&(c=t,t={}),t=t||{},c=c||function(){},i.type=t.type||"text/javascript",i.charset=t.charset||"utf8",i.async=!("async"in t)||!!t.async,i.src=e,t.attrs&&function(e,t){for(var a in t)e.setAttribute(a,t[a])}(i,t.attrs),t.text&&(i.text=""+t.text),("onload"in i?a:n)(i,c),i.onload||a(i,c),s.appendChild(i)}},402:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAxlBMVEUAAAAAAIAAAFUAAEAAMzMrK1UkJEkgIEAcHFUXF0YXF0YVIEoXH00WHUkVHEcWHEgVG0oYHEwXHEoVHEoXHEoWHEkWHkkVHUoXHEsVHUkVHUsWHUoWHUoWHUoWHEkVHUkWHksWHkoWHUoVHUkXHEkWHUkWHUoWHEsWHEoVHEsVHEsWHUkWHUsWHUoWHEoVHUoWHUoWHUoWHUoWHUsVHUkWHEoVHEoVHUoWHUoWHUsVHUsWHUoWHEoWHUkWHUoVHUoWHUr///8f1bkeAAAAP3RSTlMAAgMEBQYHCAkLFhghIyQuMDY3SFpbXmBjhIWUlZiZnaSsrbK1uLu8vb6/w9TV2uTm6Pj5+vv8/Pz8/f3+/v598snUAAAAAWJLR0RBid5sTgAAAM1JREFUGBmNwelWgmAARdEbgmmDYxna4FBZaViWAwl+nvd/KsmFQMqP9tZ/3LjKVTWmqjw9P+gpx4UPwaWO3a1gdasjZ19Evs91oPBgiKzvC9pzGq1O35sRm3n9TqthSxpB6JPhhzCS1CVHV5L9yKH1c1ER52nNH2Z4qp3SqyHDvJUUK4+DDbFNMC4rUSGjolSNjJpS12RcKdUOSYRtpQYLYAlLYDFQagI/vNTrQ3yYKOHMwWsq0nyHuaM963PqWtqx3OnHiRK2pYRV1K8thwE6sDcriLcAAAAASUVORK5CYII="},403:function(e,t,a){"use strict";var n=a(2),c=a.n(n),s=a(12),i=a(17),l=a(0),r=a.n(l),o=a(4),d=a(262),u=a.n(d),b=a(68),j=a(31),m=a(253),v=a(87),p=a(1),O=["jpeg","jpg","png"];t.a=function(e){var t,a,n,d,f=Object(l.useState)({}),h=Object(i.a)(f,2),x=h[0],g=h[1],A=Object(l.useState)({}),N=Object(i.a)(A,2),_=N[0],w=N[1],k=Object(l.useState)(new FormData),y=Object(i.a)(k,1)[0],I=Object(l.useState)(!1),C=Object(i.a)(I,2),S=C[0],E=C[1],L=Object(l.useState)(1),D=Object(i.a)(L,2),B=D[0],U=D[1],J=Object(j.g)(),M=function(e){"frontId"===e&&(y.delete("stripeAccountId"),y.delete("frontPhotoIDUpload"),g({})),"backId"===e&&(y.delete("backPhotoIDUpload"),w({}))},R=function(){var t=Object(s.a)(c.a.mark((function t(a){var n,s,i,l,r,d,u,b;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.target.files[0],d=null===r||void 0===r||null===(n=r.type)||void 0===n||null===(s=n.split("/")[1])||void 0===s?void 0:s.toLowerCase(),u=(null===r||void 0===r?void 0:r.size)/1024/1024,!(O.indexOf(d)<0||u>10)){t.next=6;break}return Object(o.c)(!0,"The file must be in proper format or size"),t.abrupt("return");case 6:if(!(O.includes(d)&&u>10)){t.next=9;break}return Object(o.c)(!0,"The image file size must be below 10 mb"),t.abrupt("return");case 9:b={localURL:URL.createObjectURL(r)},0===(null===(i=Object.keys(x))||void 0===i?void 0:i.length)?(y.append("stripeAccountId",e.stripeAccountId),y.append("frontPhotoIDUpload",r),g(b)):0===(null===(l=Object.keys(_))||void 0===l?void 0:l.length)&&(y.append("backPhotoIDUpload",r),w(b));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){var t=Object(s.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.A)(y);case 2:if(!(a=t.sent).success||"mark-milestone"!==e.redirect_from||!e.markMilestoneVerif){t.next=9;break}return Object(o.c)(!0,a.msg),e.markMilestoneVerif("verifSuccess"),t.abrupt("return");case 9:a.success&&J.push("/id-verification-success");case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),q=function(){var e,t,a=[],n=[];return(null===(e=Object.keys(x))||void 0===e?void 0:e.length)>0&&(a.push(x.localURL),n.push("image")),(null===(t=Object.keys(_))||void 0===t?void 0:t.length)>0&&(a.push(_.localURL),n.push("image")),{sources:a,types:n}}(),Q=q.sources,H=q.types;return Object(p.jsxs)("div",{className:"flex_row",children:[Object(p.jsxs)("div",{className:"flex_col_sm_8",children:[Object(p.jsxs)("div",{className:"relate",children:[Object(p.jsx)("button",{onClick:function(){"mark-milestone"===e.redirect_from&&e.markMilestoneVerif?e.markMilestoneVerif("backStep"):e.setIdVerifClicked&&e.setIdVerifClicked(!1)},className:"back"}),Object(p.jsx)("span",{className:"xs_sub_title",children:"Add your ID photo"})]}),Object(p.jsx)("p",{className:"commn_para",children:"Please add image of Front & Back side of your ID."}),Object(p.jsx)(u.a,{toggler:S,slide:B,sources:Q,types:H,onClose:function(){return U(1)}})]}),Object(p.jsx)("div",{className:"flex_col_sm_9",children:Object(p.jsx)("div",{className:"form_field"})}),Object(p.jsxs)("div",{className:"flex_col_sm_12",children:[Object(p.jsxs)("div",{className:"upload_img_video",children:[(null===(t=Object.keys(x))||void 0===t?void 0:t.length)>0&&Object(p.jsxs)("figure",{className:"img_video",onClick:function(){E((function(e){return!e})),U(1)},children:[Object(p.jsx)("img",{title:"front-photo-id",src:x.localURL,alt:"media"}),Object(p.jsx)("img",{onClick:function(e){e.stopPropagation(),M("frontId")},src:v.a,alt:"remove",className:"remove"})]}),(null===(a=Object.keys(_))||void 0===a?void 0:a.length)>0&&Object(p.jsxs)("figure",{className:"img_video",onClick:function(){E((function(e){return!e})),U(2)},children:[Object(p.jsx)("img",{title:"back-photo-id",src:_.localURL,alt:"media"}),Object(p.jsx)("img",{onClick:function(e){e.stopPropagation(),M("backId")},src:v.a,alt:"remove",className:"remove"})]}),(null===(n=Object.keys(x))||void 0===n?void 0:n.length)&&(null===(d=Object.keys(_))||void 0===d?void 0:d.length)?null:Object(p.jsxs)(r.a.Fragment,{children:[Object(p.jsx)("label",{className:"upload_media",htmlFor:"upload_img_video",children:Object(p.jsx)("img",{src:m.a,alt:""})}),Object(p.jsx)("input",{onChange:R,type:"file",accept:"image/png,image/jpg,image/jpeg",style:{display:"none"},id:"upload_img_video"})]})]}),Object(p.jsx)("button",{onClick:T,className:"fill_btn full_btn btn-effect ".concat(function(){var e,t;return!(null===(e=Object.keys(x))||void 0===e?void 0:e.length)||!(null===(t=Object.keys(_))||void 0===t?void 0:t.length)}()?"disable_btn":""),children:"Submit"})]})]})}},437:function(e,t,a){"use strict";var n=a(6),c=a(41),s=a(2),i=a.n(s),l=a(12),r=a(57),o=a(17),d=a(0),u=a.n(d),b=a(87),j=a(253),m=a(269),v=a(25),p=a(4),O=a(397),f=a.n(O),h=a(213),x=a(562),g=a(1),A=["jpeg","jpg","png"],N=["mp4","wmv","avi"],_=["jpeg","jpg","png","mp4","wmv","avi","pdf","doc","docx","msword"],w=["pdf","doc","docx","msword"];t.a=function(e){var t,a=e.jobName,s=e.title,O=e.para,k=e.hasDescription,y=e.data,I=e.stepCompleted,C=e.handleStepForward,S=e.handleStepComplete,E=e.handleStepBack,L=Object(d.useState)({}),D=Object(o.a)(L,2),B=(D[0],D[1]),U=Object(d.useState)({}),J=Object(o.a)(U,2),M=J[0],R=J[1],T=Object(d.useState)([]),q=Object(o.a)(T,2),Q=q[0],H=q[1],P=Object(d.useState)(""),Y=Object(o.a)(P,2),V=Y[0],F=Y[1],z=Object(d.useState)(!1),K=Object(o.a)(z,2),W=K[0],X=K[1],Z=Object(d.useState)(!1),G=Object(o.a)(Z,2),$=(G[0],G[1]),ee=Object(d.useState)(1),te=Object(o.a)(ee,2),ae=(te[0],te[1]),ne=Object(d.useState)({}),ce=Object(o.a)(ne,2),se=ce[0],ie=ce[1],le=Object(d.useState)({photos:0,video:0}),re=Object(o.a)(le,2),oe=(re[0],re[1],Object(d.useState)(null)),de=Object(o.a)(oe,2),ue=(de[0],de[1]),be=u.a.useState(null),je=Object(o.a)(be,2),me=je[0],ve=je[1],pe=Boolean(me),Oe=function(){ve(null)};Object(d.useEffect)((function(){I&&(H(null===y||void 0===y?void 0:y.urls),X(!0))}),[I,y]),Object(d.useEffect)((function(){}),[]);var fe=function(e,t){return new Promise((function(a){var n=e.split("."),c=n[n.length-1],s=e.split("/"),i=s[s.length-1],l=null,o=Object(r.a)({},t,!0);c&&A.includes(c)&&(l=Object(g.jsx)("img",{id:"media_".concat(t),onClick:function(){we(t)},title:i,src:e,onLoad:function(){o[t]=!1,console.log("image_render","---\x3e",{loadByIndex:o})},alt:"media"})),o[t]||(console.log("Hered!!!"),a(l))}))},he=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(t,a);case 2:return n=e.sent,console.log({result:n}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),xe=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Q.map((function(e,t){return he(e.link,t)})),e.next=3,Promise.all(t);case 3:a=e.sent,ue(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){xe()}),[Q]);var ge=function(){var e=[],t=[];return Q.forEach((function(a){var n=a.link.split("."),c=n[(null===n||void 0===n?void 0:n.length)-1];N.includes(c)&&e.push(c),[].concat(A,w).includes(c)&&t.push(c)})),{videoCount:e.length,imageCount:t.length}},Ae=function(e){_e("",!0,e[0])},Ne=function(e){console.log(e,"err --- Dropbox")},_e=function(){var e=Object(l.a)(i.a.mark((function e(t,a,s){var l,o,d,u,b,j,m,O,f,h,x,g,y;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=new FormData,d=a?null===s||void 0===s?void 0:s.link:t.target.files[0],a?(b=null===d||void 0===d?void 0:d.split("."),o=null===(u=b[b.length-1])||void 0===u?void 0:u.toLowerCase()):o=null===d||void 0===d||null===(j=d.type)||void 0===j||null===(m=j.split("/")[1])||void 0===m?void 0:m.toLowerCase(),Oe(),!k||A.includes(o)){e.next=7;break}return Object(p.c)(!0,"The file must be in proper format"),e.abrupt("return");case 7:if(8!==(null===Q||void 0===Q?void 0:Q.length)){e.next=10;break}return Object(p.c)(!0,"Max files upload limit is 6"),e.abrupt("return");case 10:if(2!==(null===(O=ge())||void 0===O?void 0:O.videoCount)){e.next=14;break}if(!N.includes(o)){e.next=14;break}return e.abrupt("return");case 14:if(!((null===O||void 0===O?void 0:O.imageCount)>=6)){e.next=18;break}if(![].concat(A,w).includes(o)){e.next=18;break}return e.abrupt("return");case 18:if(f=Q.map((function(e){var t=e.link.split("."),a=t[(null===t||void 0===t?void 0:t.length)-1];if(N.includes(a))return a})).filter((function(e){return void 0!==e})),h=a?(null===s||void 0===s?void 0:s.bytes)/1024/1024:(null===d||void 0===d?void 0:d.size)/1024/1024,!(_.indexOf(o)<0||h>10)){e.next=24;break}return Object(p.c)(!0,"The file must be in proper format or size"),e.abrupt("return");case 24:if(!(A.includes(o)&&h>10)){e.next=27;break}return Object(p.c)(!0,"The image file size must be below 10 mb"),e.abrupt("return");case 27:if(!N.includes(o)){e.next=34;break}if(!(h>10)){e.next=31;break}return Object(p.c)(!0,"The video file size must be below 20 mb"),e.abrupt("return");case 31:if(!((null===f||void 0===f?void 0:f.length)>1)){e.next=34;break}return Object(p.c)(!0,"Max video file upload limit is 2"),e.abrupt("return");case 34:if(!a&&l.append("file",d),ie({}),!a){e.next=40;break}e.t0={success:!0},e.next=43;break;case 40:return e.next=42,Object(v.l)(l);case 42:e.t0=e.sent;case 43:x=e.t0,Object(p.a)(!0),x.success&&(g=a?null===s||void 0===s?void 0:s.link:null===x||void 0===x?void 0:x.imgUrl,y=A.includes(o)?1:N.includes(o)?2:["doc","docx","msword"].includes(o)?3:4,H((function(e){return[].concat(Object(c.a)(e),[{mediaType:y,link:g}])})),ie((function(e){return Object(r.a)({},Q.length-1,!1)})),B((function(e){return Object(n.a)(Object(n.a)({},e),{},Object(r.a)({},null===Q||void 0===Q?void 0:Q.length,a?null===s||void 0===s?void 0:s.link:URL.createObjectURL(d)))})));case 46:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),we=function(e){$((function(e){return!e})),ae(e+1)},ke=function(e,t,a){var n=e.split("."),c=n[n.length-1],s=e.split("/"),i=s[s.length-1],l=null,o=Object(r.a)({},t,!0);if(c)return A.includes(c)&&(l=Object(g.jsx)("img",{id:"media_".concat(t),title:i,src:e,"async-src":e,decoding:"async",loading:"lazy",onLoad:function(){console.log("Loaded!"),o[t]=!1,console.log("image_render","---\x3e",{loadByIndex:o}),ie((function(e){return Object(r.a)({},t,!0)}))},alt:"media"})),N.includes(c)&&(l=a?Object(g.jsx)("video",{id:"media_".concat(t),title:i,crossOrigin:"anonymous",src:e,poster:a,controls:!1,onLoadedData:function(){console.log("Loaded!"),ie((function(e){return Object(r.a)({},t,!0)}))}}):Object(g.jsx)("video",{id:"media_".concat(t),crossOrigin:"anonymous",src:e,controls:!1,title:i,onLoadedData:function(){console.log("Loaded!"),ie((function(e){return Object(r.a)({},t,!0)}))}})),w.includes(c)&&(l=Object(g.jsx)("img",{id:"media_".concat(t),title:i,src:m.a,"async-src":e,decoding:"async",loading:"lazy",onLoad:function(){o[t]=!1,console.log("Loaded!"),ie((function(e){return Object(r.a)({},t,!0)}))},alt:"media"})),Object(g.jsx)("figure",{className:"img_video",children:Object(g.jsx)(u.a.Fragment,{children:l&&Object(g.jsxs)(u.a.Fragment,{children:[l,Object(g.jsx)("img",{onClick:function(){!function(e){Q.splice(e,1),H(Q),Array.isArray(M)?R([]):R({})}(t)},src:b.a,alt:"remove",className:"remove"})]})})})},ye=null;(null===(t=Object.values(se))||void 0===t?void 0:t.length)&&(ye=!(!Array.isArray(Object.values(se))||!0!==Object.values(se)[0])&&Object.values(se)[0]),!1===ye&&Object(p.a)(!0),!0===ye&&Object(p.a)(!1);var Ie=!(null===Q||void 0===Q?void 0:Q.length)||!(!k||V.trim()&&!(V.length>1e3));return console.log({IsRenderValues:ye,isItemsLoad:se,check:Ie}),Object(g.jsx)("div",{className:"app_wrapper".concat(a?" padding_0":""),children:Object(g.jsx)("div",{className:"section_wrapper".concat(a?" padding_0":""),children:Object(g.jsxs)("div",{className:"custom_container",children:[Object(g.jsx)("canvas",{id:"canvas-extractor",style:{display:"none"}}),Object(g.jsx)("div",{className:"form_field",children:Object(g.jsxs)("div",{className:"flex_row",children:[Object(g.jsxs)("div",{className:"flex_col_sm_".concat(a?"7":"6"),children:[Object(g.jsxs)("div",{className:"relate",children:[Object(g.jsx)("button",{onClick:function(){k?E():C(6)},className:"back"}),Object(g.jsx)("span",{className:a?"xs_sub_title":"title",children:a||"Photos and documents"})]}),s&&Object(g.jsx)("span",{className:"sub_title",children:s}),Object(g.jsx)("p",{className:"commn_para",children:O||"Record a short video (up to 30 seconds) or add up to 6 photos and files to demonstrate your job and any unique requirements."})]}),a||(null===Q||void 0===Q?void 0:Q.length)||k?null:Object(g.jsx)("div",{className:"flex_col_sm_5 text-right",children:Object(g.jsx)("span",{onClick:function(){C(14)},className:"link",children:"Skip"})})]})}),Object(g.jsx)("div",{className:"flex_row",children:Object(g.jsx)("div",{className:"flex_col_sm_12",children:Object(g.jsxs)("div",{className:"upload_img_video",children:[(null===Q||void 0===Q?void 0:Q.length)?Q.map((function(e,t){return ke(null===e||void 0===e?void 0:e.link,t,null===e||void 0===e?void 0:e.base64)})):null,Object(g.jsx)("button",{className:"media_btn",id:"fade-button","aria-controls":pe?"fade-menu":void 0,"aria-haspopup":"true","aria-expanded":pe?"true":void 0,onClick:function(e){ve(e.currentTarget)},children:Object(g.jsx)("img",{src:j.a,alt:""})}),Object(g.jsx)(h.a,{className:"fsp_modal range dropbox",id:"fade-menu",MenuListProps:{"aria-labelledby":"fade-button"},anchorEl:me,open:pe,onClose:Oe,TransitionComponent:x.a,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"left"},children:(null===Q||void 0===Q?void 0:Q.length)<8?Object(g.jsxs)(u.a.Fragment,{children:[Object(g.jsx)("label",{className:"upload_media",htmlFor:"upload_img_video",children:"Upload from files"}),k?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("input",{onChange:_e,type:"file",accept:k?"image/png,image/jpg,image/jpeg":"image/png,image/jpg,image/jpeg,.pdf, .doc, video/mp4, video/wmv, video/avi",style:{display:"none"},id:"upload_img_video"}),Object(g.jsx)(f.a,{appKey:"373j3wfbv1cs1q8",success:function(e){return Ae(e)},cancel:function(e){return Ne(e)},multiselect:!1,linkType:"direct",children:Object(g.jsx)("button",{className:"dropbox-button",children:"Upload from Dropbox"})})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("input",{onChange:_e,type:"file",accept:function(){var e=[],t=[],a=[].concat(A,w);return Q.forEach((function(n){var c=n.link.split("."),s=c[(null===c||void 0===c?void 0:c.length)-1];N.includes(s)&&e.push(s),a.includes(s)&&t.push(s)})),console.log({concatFormat:a,ImageItems:t,videoItems:e}),6===(null===t||void 0===t?void 0:t.length)?".mp4, .wmv, .avi":2==(null===e||void 0===e?void 0:e.length)?".png,.jpg,.jpeg,.pdf,.doc":".png,.jpg,.jpeg,.pdf,.doc,.mp4,.wmv,.avi"}(),style:{display:"none"},id:"upload_img_video"}),Object(g.jsx)(f.a,{appKey:"373j3wfbv1cs1q8",success:function(e){return Ae(e)},cancel:function(e){return Ne(e)},multiselect:!1,linkType:"direct",children:Object(g.jsx)("button",{className:"dropbox-button",children:"Upload from Dropbox"})})]})]}):null})]})})}),Object(g.jsx)("div",{className:"flex_row",children:Object(g.jsxs)("div",{className:"flex_col_sm_8",children:[k&&Object(g.jsxs)("div",{className:"form_field",children:[Object(g.jsx)("label",{className:"form_label",children:"Photo Description"}),Object(g.jsxs)("div",{className:"text_field",children:[Object(g.jsx)("textarea",{placeholder:"The item has..",value:V,onChange:function(e){var t=e.target.value;return F(t)}}),V.length?Object(g.jsx)("span",{className:"char_count",children:"character length : ".concat(V.length," / 1000")}):""]}),Object(g.jsx)("span",{className:"error_msg",children:W&&!V.trim()?"Photo Description is required.":V.length>1e3?"Maximum 1000 characters are allowed.":""})]}),Object(g.jsx)("div",{className:"form_field",children:Object(g.jsx)("button",{onClick:function(){X(!0);var e=[];Q.forEach((function(t,a){if(2===(null===t||void 0===t?void 0:t.mediaType)&&!(null===t||void 0===t?void 0:t.base64)){var n=function(e){var t=e.videoId,a=e.canvasId,n=document.querySelector(t),c=document.querySelector(a),s=c.getContext("2d");n.addEventListener("loadedmetadata",(function(){c.width=n.videoWidth,c.height=n.videoHeight})),document.querySelector(t).addEventListener("timeupdate",(function(){})),s.drawImage(n,0,0,n.videoWidth,n.videoHeight);var i=new Image;return i.crossOrigin="anonymous",i.src=null===c||void 0===c?void 0:c.toDataURL(),console.log({src:i}),i.src}({canvasId:"#canvas-extractor",videoId:"#media_".concat(a)});t.base64=n}e.push(t)})),H(e),S({urls:e,description:k?V:void 0})},className:"fill_btn full_btn btn-effect ".concat(Ie&&null==ye?"disable_btn":Ie||ye?"":"disable_btn"),children:"Submit"})})]})})]})})})}},595:function(e,t,a){"use strict";a.r(t);var n=a(37),c=a(45),s=a(6),i=a(17),l=a(0),r=a.n(l),o=a(31),d=a(56),u=a(41),b=a(2),j=a.n(b),m=a(12),v=a(53),p=a(227),O=a(76),f=a(303),h=a(323),x=a(66),g=a(1),A=function(e){var t=e.loading,a=e.getActiveJobList,n=e.activeJobList,c=e.newJobsCount,s=e.resetActiveJobList,r=Object(l.useState)([]),b=Object(i.a)(r,2),A=b[0],N=b[1],_=Object(l.useState)(1),w=Object(i.a)(_,2),k=w[0],y=w[1],I=Object(l.useState)(!0),C=Object(i.a)(I,2),S=C[0],E=C[1],L=Object(l.useState)(!0),D=Object(i.a)(L,2),B=D[0],U=D[1],J=Object(o.g)(),M=c;console.log(M,"totalJobsCount",A,"jobList",S,"hasMoreItems"),Object(l.useEffect)((function(){return R(),function(){return s()}}),[]);var R=function(){var e=Object(m.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(k);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){if((null===n||void 0===n?void 0:n.length)||Array.isArray(n)){var e=[].concat(Object(u.a)(A),Object(u.a)(n));console.log(A,"jobList",n,"props.activeJobList",e,"allJobs"),N(e),U(!1),y(k+1),n.length<10&&E(!1),s()}}),[n]),Object(g.jsx)("div",{className:"detail_col",children:Object(g.jsxs)(p.a,{dataLength:A.length,next:R,style:{overflowX:"hidden"},hasMore:S,loader:Object(g.jsx)(g.Fragment,{}),children:[Object(g.jsx)("span",{className:"sub_title",children:"Active Jobs"}),Object(g.jsx)("div",{className:"flex_row tradies_row",children:B||t||!A.length?!B&&!t&&Object(g.jsxs)("div",{className:"no_record  m-t-vh",children:[Object(g.jsx)("figure",{className:"no_img",children:Object(g.jsx)("img",{src:x.a,alt:"data not found"})}),Object(g.jsx)("span",{children:"No Data Found"})]}):A.map((function(e){var t=e.jobId,a=e.tradeId,n=e.specializationId,c=(e.tradeSelectedUrl,e.jobName),s=(e.tradeName,e.fromDate),i=e.toDate,l=e.timeLeft,r=e.amount,o=e.locationName,u=e.milestoneNumber,b=e.totalMilestones,j=e.status,m=e.builderName,p=e.builderImage,x=e.quoteJob;return Object(g.jsx)("div",{className:"flex_col_sm_6",children:Object(g.jsxs)("div",{className:"tradie_card","data-aos":"fade-in","data-aos-delay":"250","data-aos-duration":"1000",children:[Object(g.jsx)(d.c,{to:"/mark-milestone?jobId=".concat(t,"&redirect_from=jobs"),className:"more_detail circle"}),Object(g.jsxs)("div",{className:"user_wrap",children:[Object(g.jsx)("figure",{className:"u_img",children:Object(g.jsx)("img",{src:p||O.a,alt:"",onError:function(e){var t,a;(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.onerror)&&(e.target.onerror=null),(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.src)&&(e.target.src=O.a)}})}),Object(g.jsxs)("div",{className:"details",children:[Object(g.jsx)("span",{className:"name",children:c}),Object(g.jsx)("span",{className:"prof",children:m})]})]}),Object(g.jsx)("div",{className:"job_info",children:Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{className:"icon clock",children:Object(v.h)(s,i)}),Object(g.jsx)("li",{className:"icon dollar",children:r}),Object(g.jsx)("li",{className:"icon location line-1",children:o}),Object(g.jsx)("li",{className:"icon calendar",children:l})]})}),Object(g.jsx)("div",{className:"job_progress_wrap",id:"scroll-progress-bar",children:Object(g.jsxs)("div",{className:"progress_wrapper",children:[Object(g.jsxs)("span",{className:"completed-digit",id:"digit-progress",children:[Object(g.jsxs)("b",{children:["Job Milestones ",u]})," of"," ",b]}),Object(g.jsxs)("span",{className:"approval_info",children:["APPROVED"===j&&Object(g.jsx)("img",{src:f.a,alt:"icon"}),"NEEDS APPROVAL"===j&&Object(g.jsx)("img",{src:h.a,alt:"icon"}),j]}),Object(g.jsx)("span",{className:"progress_bar",children:Object(g.jsx)("input",{className:"done_progress",id:"progress-bar",type:"range",min:"0",value:u,max:b})})]})}),x&&Object(g.jsx)("div",{className:"text-center mt-sm",children:Object(g.jsx)("div",{className:"view_quote",onClick:function(){J.push({pathname:"/active-quote-job",state:{jobData:{jobId:t,tradeId:a,specializationId:n}}})},children:"View your quote"})})]})},t)}))})]})})},N=function(e){var t=e.loading,a=e.getAppliedJobList,n=e.appliedJobList,c=e.newJobsCount,s=e.resetAppliedJobList,r=Object(l.useState)([]),b=Object(i.a)(r,2),v=b[0],f=b[1],h=Object(l.useState)(1),A=Object(i.a)(h,2),N=A[0],_=A[1],w=Object(l.useState)(!0),k=Object(i.a)(w,2),y=k[0],I=k[1],C=Object(l.useState)(!0),S=Object(i.a)(C,2),E=S[0],L=S[1],D=Object(o.g)(),B=c;console.log(B,"totalJobsCount",v,"jobList",y,"hasMoreItems"),Object(l.useEffect)((function(){return U(),function(){return s()}}),[]);var U=function(){var e=Object(m.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(N);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){if((null===n||void 0===n?void 0:n.length)||Array.isArray(n)){var e=[].concat(Object(u.a)(v),Object(u.a)(n));console.log(v,"jobList",n,"props.appliedJobList",e,"allJobs"),f(e),L(!1),_(N+1),n.length<10&&I(!1),s()}}),[n]),Object(g.jsx)("div",{className:"detail_col",children:Object(g.jsxs)(p.a,{dataLength:v.length,next:U,style:{overflowX:"hidden"},hasMore:y,loader:Object(g.jsx)(g.Fragment,{}),children:[Object(g.jsx)("span",{className:"sub_title",children:"Applied Jobs"}),Object(g.jsx)("div",{className:"flex_row tradies_row",children:E||t||!v.length?!E&&!t&&Object(g.jsxs)("div",{className:"no_record  m-t-vh",children:[Object(g.jsx)("figure",{className:"no_img",children:Object(g.jsx)("img",{src:x.a,alt:"data not found"})}),Object(g.jsx)("span",{children:"No Data Found"})]}):v.map((function(e){var t=e.jobId,a=(e.tradeSelectedUrl,e.tradeId),n=e.specializationId,c=e.jobName,s=(e.tradeName,e.time),i=e.amount,l=e.locationName,r=e.durations,o=e.milestoneNumber,u=e.totalMilestones,b=(e.status,e.builderName),j=e.builderImage,m=e.quoteJob;e.quoteSent;return Object(g.jsx)("div",{className:"flex_col_sm_6",children:Object(g.jsxs)("div",{className:"tradie_card","data-aos":"fade-in","data-aos-delay":"250","data-aos-duration":"1000",children:[Object(g.jsx)(d.c,{to:"/job-details-page?jobId=".concat(t,"&redirect_from=jobs"),className:"more_detail circle"}),Object(g.jsxs)("div",{className:"user_wrap",children:[Object(g.jsx)("figure",{className:"u_img",children:Object(g.jsx)("img",{src:j||O.a,alt:"",onError:function(e){var t,a;(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.onerror)&&(e.target.onerror=null),(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.src)&&(e.target.src=O.a)}})}),Object(g.jsxs)("div",{className:"details",children:[Object(g.jsx)("span",{className:"name",children:c}),Object(g.jsx)("span",{className:"prof",children:b})]})]}),Object(g.jsx)("div",{className:"job_info",children:Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{className:"icon clock",children:s}),Object(g.jsx)("li",{className:"icon dollar",children:i}),Object(g.jsx)("li",{className:"icon location line-1",children:l}),Object(g.jsx)("li",{className:"icon calendar",children:r})]})}),Object(g.jsx)("div",{className:"job_progress_wrap",id:"scroll-progress-bar",children:Object(g.jsxs)("div",{className:"progress_wrapper",children:[Object(g.jsxs)("span",{className:"completed-digit",id:"digit-progress",children:[Object(g.jsxs)("b",{children:["Job Milestones ",o]})," of"," ",u]}),Object(g.jsx)("span",{className:"progress_bar",children:Object(g.jsx)("input",{className:"done_progress",id:"progress-bar",type:"range",min:"0",value:o,max:u})})]})}),m&&Object(g.jsx)("div",{className:"quote-text",onClick:function(){D.push({pathname:"/quote-job",state:{jobData:{jobId:t,tradeId:a,specializationId:n},redirect_from:"appliedJobs"}})},children:"Quote sent"})]})})}))})]})})},_=a(402),w=function(e){var t=Object(l.useState)([]),a=Object(i.a)(t,2),n=a[0],c=a[1],s=Object(l.useState)(1),r=Object(i.a)(s,2),o=r[0],b=r[1],f=Object(l.useState)(!0),h=Object(i.a)(f,2),A=h[0],N=h[1],w=Object(l.useState)(!0),k=Object(i.a)(w,2),y=k[0],I=k[1],C=e.newJobsCount;console.log(C,"totalJobsCount",n,"jobList",A,"hasMoreItems"),Object(l.useEffect)((function(){return S(),function(){return e.resetPastJobList()}}),[]);var S=function(){var t=Object(m.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.getPastJobList(o);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.useEffect)((function(){var t;if((null===(t=e.pastJobList)||void 0===t?void 0:t.length)||Array.isArray(e.pastJobList)){var a=[].concat(Object(u.a)(n),Object(u.a)(e.pastJobList));console.log(n,"jobList",e.pastJobList,"props.pastJobList",a,"allJobs"),c(a),I(!1),b(o+1),e.pastJobList.length<10&&N(!1),e.resetPastJobList()}}),[e.pastJobList]),Object(g.jsx)("div",{className:"detail_col",children:Object(g.jsxs)(p.a,{dataLength:n.length,next:S,style:{overflowX:"hidden"},hasMore:A,loader:Object(g.jsx)(g.Fragment,{}),children:[Object(g.jsx)("span",{className:"sub_title",children:"Past Jobs"}),Object(g.jsx)("div",{className:"flex_row tradies_row",children:y||e.loading||!n.length?!y&&!e.loading&&Object(g.jsxs)("div",{className:"no_record  m-t-vh",children:[Object(g.jsx)("figure",{className:"no_img",children:Object(g.jsx)("img",{src:x.a,alt:"data not found"})}),Object(g.jsx)("span",{children:"No Data Found"})]}):n.map((function(e){return Object(g.jsx)("div",{className:"flex_col_sm_6",children:Object(g.jsxs)("div",{className:"tradie_card","data-aos":"fade-in","data-aos-delay":"250","data-aos-duration":"1000",children:[Object(g.jsx)(d.c,{to:"/job-details-page?jobId=".concat(e.jobId,"&redirect_from=jobs"),className:"more_detail circle"}),Object(g.jsxs)("div",{className:"user_wrap",children:[Object(g.jsx)("figure",{className:"u_img",children:Object(g.jsx)("img",{src:e.builderImage||O.a,alt:"",onError:function(e){var t,a;(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.onerror)&&(e.target.onerror=null),(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.src)&&(e.target.src=O.a)}})}),Object(g.jsxs)("div",{className:"details",children:[Object(g.jsx)("span",{className:"name",children:e.jobName}),Object(g.jsx)("span",{className:"prof",children:e.builderName})]})]}),Object(g.jsx)("div",{className:"job_info",children:Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{className:"icon calendar",children:Object(v.h)(e.fromDate,e.toDate)}),Object(g.jsx)("li",{className:"icon dollar",children:e.amount}),Object(g.jsx)("li",{className:"icon location line-1",children:e.locationName}),e.durations?Object(g.jsx)("li",{className:"icon calendar",children:e.durations}):Object(g.jsx)("li",{children:Object(g.jsx)("span",{className:"job_status",children:e.status})})]})}),Object(g.jsx)("div",{className:"job_progress_wrap",id:"scroll-progress-bar",children:Object(g.jsxs)("div",{className:"progress_wrapper",children:[Object(g.jsxs)("span",{className:"completed-digit",id:"digit-progress",children:[Object(g.jsxs)("b",{children:["Job Milestones ",e.milestoneNumber]})," of"," ",e.totalMilestones]}),Object(g.jsx)("span",{className:"progress_bar",children:Object(g.jsx)("input",{className:"done_progress",id:"progress-bar",type:"range",min:"0",value:e.milestoneNumber/e.totalMilestones*100})})]})}),!(null===e||void 0===e?void 0:e.isRated)&&["COMPLETED"].includes(null===e||void 0===e?void 0:e.status)&&Object(g.jsx)(d.c,{to:{pathname:"/review-builder",state:{item:e}},children:Object(g.jsxs)("button",{className:"fill_grey_btn full_btn",children:[Object(g.jsx)("img",{src:_.a,alt:"rating-star"})," Rate this builder"]})})]})},e.jobId)}))})]})})},k=function(e){var t=e.loading,a=e.getNewJobList,n=e.newJobList,c=e.newJobsCount,s=e.resetNewJobList,r=(Object(o.g)(),Object(l.useState)([])),b=Object(i.a)(r,2),v=b[0],f=b[1],h=Object(l.useState)(1),A=Object(i.a)(h,2),N=A[0],_=A[1],w=Object(l.useState)(!0),k=Object(i.a)(w,2),y=k[0],I=k[1],C=Object(l.useState)(!0),S=Object(i.a)(C,2),E=S[0],L=S[1],D=c;console.log(D,"totalJobsCount",v,"jobList",y,"hasMoreItems"),Object(l.useEffect)((function(){return B(),function(){return s()}}),[]);var B=function(){var e=Object(m.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(N);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){if((null===n||void 0===n?void 0:n.length)||Array.isArray(n)){var e=[].concat(Object(u.a)(v),Object(u.a)(n));console.log(v,"jobList",n,"props.newJobList",e,"allJobs"),f(e),L(!1),_(N+1),n.length<10&&I(!1),s()}}),[n]),Object(g.jsx)("div",{className:"detail_col",children:Object(g.jsxs)(p.a,{dataLength:v.length,next:B,style:{overflowX:"hidden"},hasMore:y,loader:Object(g.jsx)(g.Fragment,{}),children:[Object(g.jsx)("span",{className:"sub_title",children:"New Jobs"}),Object(g.jsx)("div",{className:"flex_row tradies_row",children:E||t||!v.length?!E&&!t&&Object(g.jsxs)("div",{className:"no_record  m-t-vh",children:[Object(g.jsx)("figure",{className:"no_img",children:Object(g.jsx)("img",{src:x.a,alt:"data not found"})}),Object(g.jsx)("span",{children:"No Data Found"})]}):v.map((function(e){var t=e.jobId,a=(e.tradeId,e.specializationId,e.tradeSelectedUrl,e.jobName),n=(e.tradeName,e.jobDescription),c=e.time,s=e.amount,i=e.locationName,l=e.durations,r=e.viewersCount,o=e.questionsCount,u=e.builderName,b=e.builderImage;return Object(g.jsx)("div",{className:"flex_col_sm_6",children:Object(g.jsxs)("div",{className:"tradie_card","data-aos":"fade-in","data-aos-delay":"250","data-aos-duration":"1000",children:[Object(g.jsx)(d.c,{to:"/job-details-page?jobId=".concat(t,"&redirect_from=jobs&jobAction=invite"),className:"more_detail circle"}),Object(g.jsxs)("div",{className:"user_wrap",children:[Object(g.jsx)("figure",{className:"u_img",children:Object(g.jsx)("img",{src:b||O.a,alt:"",onError:function(e){var t,a;(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.onerror)&&(e.target.onerror=null),(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.src)&&(e.target.src=O.a)}})}),Object(g.jsxs)("div",{className:"details",children:[Object(g.jsx)("span",{className:"name",children:a}),Object(g.jsx)("span",{className:"prof",children:u})]})]}),Object(g.jsx)("div",{className:"job_info",children:Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{className:"icon clock",children:c}),Object(g.jsx)("li",{className:"icon dollar",children:s}),Object(g.jsx)("li",{className:"icon location line-1",children:i}),Object(g.jsx)("li",{className:"icon calendar",children:l})]})}),Object(g.jsx)("p",{className:"commn_para line-2",children:n}),Object(g.jsxs)("ul",{className:"count_wrap",children:[Object(g.jsx)("li",{className:"icon view",children:r}),Object(g.jsx)("li",{className:"icon comment",children:o})]})]})})}))})]})})},y=a(48),I=a(19),C=function(e){var t=e.loading,a=e.getApprovedMilestoneList,n=e.approvedMilestoneList,c=(e.newJobsCount,e.resetApprovedMilestoneList),s=Object(l.useState)([]),r=Object(i.a)(s,2),d=r[0],b=r[1],h=Object(l.useState)(1),A=Object(i.a)(h,2),N=A[0],_=A[1],w=Object(l.useState)(!0),k=Object(i.a)(w,2),C=k[0],S=k[1],E=Object(l.useState)(!0),L=Object(i.a)(E,2),D=L[0],B=L[1],U=Object(o.g)();Object(l.useEffect)((function(){return J(),function(){return c()}}),[]);var J=function(){var e=Object(m.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(N);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){if((null===n||void 0===n?void 0:n.length)||Array.isArray(n)){var e=[].concat(Object(u.a)(d),Object(u.a)(n));console.log(d,"jobList",n,"props.approvedMilestoneList",e,"allJobs"),b(e),B(!1),_(N+1),n.length<10&&S(!1),c()}}),[n]),Object(g.jsx)("div",{className:"detail_col",children:Object(g.jsxs)(p.a,{dataLength:d.length,next:J,style:{overflowX:"hidden"},hasMore:C,loader:Object(g.jsx)(g.Fragment,{}),children:[Object(g.jsx)("span",{className:"sub_title",children:"Approved Milestones"}),Object(g.jsx)("div",{className:"flex_row tradies_row",children:D||t||!d.length?!D&&!t&&Object(g.jsxs)("div",{className:"no_record  m-t-vh",children:[Object(g.jsx)("figure",{className:"no_img",children:Object(g.jsx)("img",{src:x.a,alt:"data not found"})}),Object(g.jsx)("span",{children:"No Data Found"})]}):d.map((function(e){var t=e.jobId,a=(e.tradeId,e.specializationId,e.tradeSelectedUrl,e.jobName),n=e.tradeName,c=e.fromDate,s=e.toDate,i=e.timeLeft,l=e.amount,r=e.locationName,o=(e.durations,e.milestoneNumber),d=e.totalMilestones,u=(e.status,e.builderName),b=e.builderImage;return Object(g.jsx)("div",{className:"flex_col_sm_6",children:Object(g.jsxs)("div",{className:"tradie_card","data-aos":"fade-in","data-aos-delay":"250","data-aos-duration":"1000",children:[Object(g.jsx)("span",{className:"more_detail circle",onClick:function(){var e={timeStamp:y.b.getCurrentTimeStamp(),category:n,"Milestone number":o};y.b.moE_SendEvent(I.a.VIEWED_APPROVED_MILESTONE,e),y.a.mixP_SendEvent(I.a.VIEWED_APPROVED_MILESTONE,e),U.push("/job-details-page?jobId=".concat(t,"&redirect_from=jobs"))}}),Object(g.jsxs)("div",{className:"user_wrap",children:[Object(g.jsx)("figure",{className:"u_img",children:Object(g.jsx)("img",{src:b||O.a,alt:"",onError:function(e){var t,a;(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.onerror)&&(e.target.onerror=null),(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.src)&&(e.target.src=O.a)}})}),Object(g.jsxs)("div",{className:"details",children:[Object(g.jsx)("span",{className:"name",children:a}),Object(g.jsx)("span",{className:"prof",children:u})]})]}),Object(g.jsx)("div",{className:"job_info",children:Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{className:"icon clock",children:Object(v.h)(c,s)}),Object(g.jsx)("li",{className:"icon dollar",children:l}),Object(g.jsx)("li",{className:"icon location line-1",children:r}),Object(g.jsx)("li",{className:"icon calendar",children:i})]})}),Object(g.jsx)("div",{className:"job_progress_wrap",id:"scroll-progress-bar",children:Object(g.jsxs)("div",{className:"progress_wrapper",children:[Object(g.jsxs)("span",{className:"completed-digit",id:"digit-progress",children:[Object(g.jsxs)("b",{children:["Job Milestones ",o]})," of"," ",d]}),Object(g.jsxs)("span",{className:"approval_info",children:[Object(g.jsx)("img",{src:f.a,alt:"icon"}),"APPROVED"]}),Object(g.jsx)("span",{className:"progress_bar",children:Object(g.jsx)("input",{className:"done_progress",id:"progress-bar",type:"range",min:"0",value:o,max:d})})]})})]})},t)}))})]})})},S=a(57),E=a(4),L=a(437),D=a(25),B=a(221),U=a(262),J=a.n(U),M=a(253),R=a(87),T=["jpeg","jpg","png"],q=function(e){var t=e.item,a=t.jobId,n=t.jobName,c=e.history,o=Object(l.useState)({reason:0,detail:"",upload:[]}),d=Object(i.a)(o,2),b=d[0],p=d[1],O=Object(l.useState)({reason:"",detail:"",upload:""}),f=Object(i.a)(O,2),h=f[0],x=(f[1],Object(l.useState)([])),A=Object(i.a)(x,2),N=A[0],_=A[1],w=Object(l.useState)({}),k=Object(i.a)(w,2),y=(k[0],k[1]),I=Object(l.useState)({}),C=Object(i.a)(I,2),L=C[0],U=C[1],q=Object(l.useState)(!1),Q=Object(i.a)(q,2),H=Q[0],P=Q[1],Y=Object(l.useState)(1),V=Object(i.a)(Y,2),F=V[0],z=V[1],K=b.reason,W=b.detail,X=(b.upload,function(e){var t=e.name,a=e.value,n=e.title;return"reason"===t?0===a?"".concat(n," is required."):"":(null===a||void 0===a?void 0:a.length)?"":"".concat(n," is required.")}),Z=function(){var e=Object(m.a)(j.a.mark((function e(t){var a,n,c,i,l,r,o,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=new FormData,i=t.target.files[0],6!==(null===N||void 0===N?void 0:N.length)){e.next=5;break}return Object(E.c)(!0,"Max files upload limit is 6"),e.abrupt("return");case 5:if(l=null===i||void 0===i||null===(a=i.type)||void 0===a||null===(n=a.split("/")[1])||void 0===n?void 0:n.toLowerCase(),r=(null===i||void 0===i?void 0:i.size)/1024/1024,!(T.indexOf(l)<0||r>10)){e.next=10;break}return Object(E.c)(!0,"The file must be in proper format or size"),e.abrupt("return");case 10:if(!(T.includes(l)&&r>10)){e.next=13;break}return Object(E.c)(!0,"The image file size must be below 10 mb"),e.abrupt("return");case 13:return c.append("file",i),e.next=16,Object(D.l)(c);case 16:(o=e.sent).success&&(d=o.imgUrl,1,_((function(e){return[].concat(Object(u.a)(e),[{mediaType:1,link:d}])})),y((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(S.a)({},null===N||void 0===N?void 0:N.length,URL.createObjectURL(i)))})));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(e,t){var a=e.split("."),n=a[a.length-1],c=e.split("/"),s=c[c.length-1],i=null;if(n)return T.includes(n)&&(i=Object(g.jsx)("img",{onClick:function(){!function(e){P((function(e){return!e})),z(e+1)}(t)},title:s,src:e,alt:"media"})),Object(g.jsxs)("figure",{className:"img_video",children:[i,Object(g.jsx)("img",{onClick:function(){!function(e){N.splice(e,1),_(N),Array.isArray(L)?U([]):U({})}(t)},src:R.a,alt:"remove",className:"remove"})]})},$=function(){var e=Object(m.a)(j.a.mark((function e(){var t,n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n={jobId:a,reason:K,details:W.trim(),photos:N}).details||delete n.details,(null===(t=n.photos)||void 0===t?void 0:t.length)||delete n.photos,e.next=5,Object(B.Db)(n);case 5:(null===(s=e.sent)||void 0===s?void 0:s.success)&&c.push("/lodge-success");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(e){var t=e.id;return Object(g.jsxs)("div",{className:"checkbox_wrap agree_check",children:[Object(g.jsx)("input",{value:K,onClick:function(){p((function(e){return Object(s.a)(Object(s.a)({},e),{},{reason:t})}))},checked:K===t,name:"Reason",className:"filter-type filled-in",type:"checkbox",id:"reason".concat(t)}),Object(g.jsx)("label",{htmlFor:"reason".concat(t),children:Object(v.b)(t)})]})},te=function(){var e=[],t=[];return(null===N||void 0===N?void 0:N.length)&&N.forEach((function(a){1===(null===a||void 0===a?void 0:a.mediaType)&&(e.push(a.link),t.push("image"))})),{sources:e,types:t}}(),ae=te.sources,ne=te.types;return Object(g.jsx)("div",{className:"detail_col",children:Object(g.jsxs)("div",{className:"flex_row",children:[Object(g.jsxs)("div",{className:"flex_col_sm_8",children:[Object(g.jsxs)("div",{className:"relate",children:[Object(g.jsx)("button",{onClick:function(){e.backTab("lodge")},className:"back"}),Object(g.jsx)("span",{className:"xs_sub_title",children:n||""})]}),Object(g.jsx)("span",{className:"sub_title",children:"Lodge dispute"}),Object(g.jsx)("p",{className:"commn_para",children:"Enter reason text"}),Object(g.jsx)(J.a,{toggler:H,slide:F,sources:ae,types:ne}),Object(g.jsxs)("div",{className:"reason_wrap",children:[Object(g.jsxs)("div",{className:"f_spacebw",children:[ee({id:1}),ee({id:2})]}),Object(g.jsxs)("div",{className:"f_spacebw",children:[ee({id:3}),ee({id:4})]}),Object(g.jsxs)("div",{className:"f_spacebw",children:[ee({id:5}),ee({id:6})]})]})]}),Object(g.jsx)("div",{className:"flex_col_sm_9",children:Object(g.jsxs)("div",{className:"form_field",children:[Object(g.jsx)("label",{className:"form_label",children:"Details (optional)"}),Object(g.jsx)("div",{className:"text_field",children:Object(g.jsx)("textarea",{value:W,onChange:function(e){p((function(t){return Object(s.a)(Object(s.a)({},t),{},{detail:e.target.value})}))},placeholder:"It\u2019s really bad work, because...",maxLength:1e3})}),Object(g.jsx)("span",{className:"error_msg",children:h.detail})]})}),Object(g.jsxs)("div",{className:"flex_col_sm_12",children:[Object(g.jsxs)("div",{className:"upload_img_video",children:[(null===N||void 0===N?void 0:N.length)?N.map((function(e,t){return G(e.link,t)})):null,(null===N||void 0===N?void 0:N.length)<6?Object(g.jsxs)(r.a.Fragment,{children:[Object(g.jsx)("label",{className:"upload_media",htmlFor:"upload_img_video",children:Object(g.jsx)("img",{src:M.a,alt:""})}),Object(g.jsx)("input",{onChange:Z,type:"file",accept:"image/png,image/jpg,image/jpeg,.pdf, .doc, video/mp4, video/wmv, video/avi",style:{display:"none"},id:"upload_img_video"})]}):null]}),Object(g.jsx)("button",{onClick:$,className:"fill_btn full_btn btn-effect ".concat(function(){var e=X({name:"reason",value:K,title:"Reason"});X({name:"detail",value:W,title:"Detail"}),X({name:"upload",value:N,title:"Media file"});return!!(null===e||void 0===e?void 0:e.length)}()?"disable_btn":""),children:"Send"})]})]})})},Q=function(e){var t=e.item,a=t.jobId,n=t.jobName,c=e.history,r=Object(l.useState)({reason:0,detail:"",upload:[]}),o=Object(i.a)(r,2),d=o[0],u=o[1],b=Object(l.useState)({reason:"",detail:"",upload:""}),p=Object(i.a)(b,2),O=p[0],f=(p[1],Object(l.useState)([])),h=Object(i.a)(f,2),x=h[0],A=(h[1],Object(l.useState)({})),N=Object(i.a)(A,2),_=(N[0],N[1],Object(l.useState)({})),w=Object(i.a)(_,2),k=(w[0],w[1],Object(l.useState)(!1)),C=Object(i.a)(k,2),S=C[0],E=(C[1],Object(l.useState)(1)),L=Object(i.a)(E,2),D=L[0],U=(L[1],d.reason),M=d.detail,R=(d.upload,function(e){var t=e.name,a=e.value,n=e.title;return"reason"===t?0===a?"".concat(n," is required."):"":(null===a||void 0===a?void 0:a.length)?"":"".concat(n," is required.")}),T=function(){var e=Object(m.a)(j.a.mark((function e(){var t,n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t={jobId:a,reason:U,note:M}).note||delete t.note,e.next=4,Object(B.zb)(t);case 4:(null===(n=e.sent)||void 0===n?void 0:n.success)&&(s={timeStamp:y.b.getCurrentTimeStamp()},y.b.moE_SendEvent(I.a.CANCEL_JOB,s),y.a.mixP_SendEvent(I.a.CANCEL_JOB,s),c.push("/cancel-job-success"));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(e){var t=e.id;return Object(g.jsxs)("div",{className:"checkbox_wrap agree_check",children:[Object(g.jsx)("input",{value:U,onClick:function(){u((function(e){return Object(s.a)(Object(s.a)({},e),{},{reason:t})}))},checked:U===t,name:"Reason",className:"filter-type filled-in",type:"checkbox",id:"reason".concat(t)}),Object(g.jsx)("label",{htmlFor:"reason".concat(t),children:Object(v.a)(t)})]})},Q=function(){var e=[],t=[];return(null===x||void 0===x?void 0:x.length)&&x.forEach((function(a){1===(null===a||void 0===a?void 0:a.mediaType)&&(e.push(a.link),t.push("image"))})),{sources:e,types:t}}(),H=Q.sources,P=Q.types;return Object(g.jsx)("div",{className:"detail_col",children:Object(g.jsxs)("div",{className:"flex_row",children:[Object(g.jsxs)("div",{className:"flex_col_sm_8",children:[Object(g.jsxs)("div",{className:"relate",children:[Object(g.jsx)("button",{onClick:function(){e.backTab("cancel")},className:"back"}),Object(g.jsx)("span",{className:"xs_sub_title",children:n||""})]}),Object(g.jsx)("span",{className:"sub_title",children:"Your reason for canceling job"}),Object(g.jsx)("p",{className:"commn_para",children:"Let the builder and Tickt know why you are cancelling the job."}),Object(g.jsx)(J.a,{toggler:S,slide:D,sources:H,types:P}),Object(g.jsxs)("div",{className:"reason_wrap",children:[Object(g.jsxs)("div",{className:"f_spacebw",children:[q({id:1}),q({id:2})]}),Object(g.jsxs)("div",{className:"f_spacebw",children:[q({id:3}),q({id:4})]}),Object(g.jsx)("div",{className:"f_spacebw",children:q({id:5})})]})]}),Object(g.jsxs)("div",{className:"flex_col_sm_9",children:[Object(g.jsxs)("div",{className:"form_field",children:[Object(g.jsx)("label",{className:"form_label",children:"Add note (optional)"}),Object(g.jsx)("div",{className:"text_field",children:Object(g.jsx)("textarea",{value:M,onChange:function(e){u((function(t){return Object(s.a)(Object(s.a)({},t),{},{detail:e.target.value})}))},placeholder:"It\u2019s really bad work, because...",maxLength:1e3})}),Object(g.jsx)("span",{className:"error_msg",children:O.detail})]}),Object(g.jsx)("button",{onClick:T,className:"fill_btn full_btn btn-effect ".concat(function(){var e=R({name:"reason",value:U,title:"Reason"});R({name:"detail",value:M,title:"Detail"});return!!(null===e||void 0===e?void 0:e.length)}()?"disable_btn":""),children:"Send"})]})]})})},H=a(403),P=a(214),Y=a(20),V=a(115),F=a.n(V),z=(a(142),a(272)),K=a(282),W=a(310),X=a(359),Z=a(86),G=["Passport","Driver Licence (Driver's license) - scans of front and back are required","Photo Card - scans of front and back are required","New South Wales Driving Instructor Licence - scans of front and back are required","Tasmanian Government Personal Information Card - scans of front and back are required","ImmiCard - scans of front and back are required","Proof of Age card - scans of front and back are required","Australian Defence Force (ADF) identification card (Military ID) - scans of front and back are required"],$={desktop:{breakpoint:{max:3e3,min:1200},items:2,slidesToSlide:1},tablet:{breakpoint:{max:1024,min:768},items:1},mobile:{breakpoint:{max:650,min:0},items:1}},ee=function(e){var t,a,n,c=e.getMilestoneList,r=e.milestoneList,d=e.showJobCompletePage,u=e.showMilestoneCompletePage,b=e.getBankDetails,j=e.addBankDetails,m=e.updateBankDetails,p=e.removeBankDetails,f=e.markMilestoneComplete,h=e.bankDetails,A=Object(o.g)(),N=new URLSearchParams(null===(t=A.location)||void 0===t?void 0:t.search);N={jobId:N.get("jobId"),tradeId:N.get("tradeId"),specializationId:N.get("specializationId")};var _={urls:[],description:"",actualHours:"",totalAmount:"0",account_name:"",account_number:"",bsb_number:"",accountVerified:!1,stripeAccountId:""},w=Object(l.useState)(_),k=Object(i.a)(w,2),C=k[0],D=k[1],B=Object(l.useState)({actualHours:"",account_name:"",account_number:"",bsb_number:""}),U=Object(i.a)(B,2),M=U[0],R=U[1],T=Object(l.useState)(1),V=Object(i.a)(T,2),ee=V[0],te=V[1],ae=Object(l.useState)([]),ne=Object(i.a)(ae,2),ce=ne[0],se=ne[1],ie=Object(l.useState)(!1),le=Object(i.a)(ie,2),re=le[0],oe=le[1],de=Object(l.useState)(0),ue=Object(i.a)(de,2),be=ue[0],je=ue[1],me=Object(l.useState)(!1),ve=Object(i.a)(me,2),pe=ve[0],Oe=ve[1],fe=Object(l.useState)({edit:!1,cancel:!1,lodge:!1}),he=Object(i.a)(fe,2),xe=he[0],ge=he[1],Ae=Object(l.useState)(!1),Ne=Object(i.a)(Ae,2),_e=(Ne[0],Ne[1],Object(l.useState)({multipleDeclineListCount:0,prevMilestoneDeclineId:"",currentMilestoneDeclineId:""})),we=Object(i.a)(_e,2),ke=we[0],ye=we[1],Ie=Object(l.useState)([]),Ce=Object(i.a)(Ie,2),Se=Ce[0],Ee=Ce[1],Le=Object(l.useState)(!1),De=Object(i.a)(Le,2),Be=De[0],Ue=De[1],Je=Object(l.useState)(1),Me=Object(i.a)(Je,2),Re=Me[0],Te=Me[1],qe=Object(l.useState)(!1),Qe=Object(i.a)(qe,2),He=Qe[0],Pe=Qe[1];Object(l.useEffect)((function(){var e,t=new URLSearchParams(null===(e=A.location)||void 0===e?void 0:e.search).get("jobAction");"dispute"===t?ge((function(e){return Object(s.a)(Object(s.a)({},e),{},{lodge:!0})})):"cancel"===t&&ge((function(e){return Object(s.a)(Object(s.a)({},e),{},{cancel:!0})}))}),[]),Object(l.useEffect)((function(){c(N.jobId),b()}),[N.jobId,c,b]),Object(l.useEffect)((function(){D((function(e){return Object(s.a)(Object(s.a)({},e),h)})),Oe(!!(null===h||void 0===h?void 0:h.userId))}),[h]);var Ye=function(e){if(!e)return"Time Spent is required.";return null!==e.match("^([0-9]?[0-9]?[0-9]?[0-9]?[0-9]):[0-5][0-9]$")?+e.split(":")[1]%5!==0?"Time should be in mutiples of 5 like 10:05, 10:10":"":"Please enter a valid pattern like : 10:05"},Ve={account_number:"Account Number",account_name:"Account Name",bsb_number:"BSB Number"},Fe=function(e,t){if(!t)return"".concat(Ve[e]," is required");switch(e){case"account_number":return t.length>10?"Maximum 10 digits are allowed":t.length<6?"Minimum 6 digits are required":"";case"bsb_number":return/^\d{3}-\d{3}$/.test(t)?"":"Please enter valid BSB Number like 123-444"}return""},ze=function(e){var t,a=e.target,n=a.name,c=a.value;if(c=c.trimLeft(),"actualHours"===n){var i,l=null===(i=c)||void 0===i?void 0:i.split(":")[0];t=c.includes(":")&&(null===l||void 0===l?void 0:l.length)<3?2===(null===l||void 0===l?void 0:l.length)?c:c.split(":")[0]<10&&c.split(":")[0]>0?"0".concat(c):c:c}D((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(S.a)({},n,"actualHours"===n?t:c))})),3===ee&&ce.includes(3)&&R((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(S.a)({},n,Ye(c)))})),5===ee&&ce.includes(5)&&R((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(S.a)({},n,Fe(n,c)))}))},Ke=r||{},We=Ke.jobId,Xe=Ke.jobName,Ze=Ke.milestones,Ge=Ke.postedBy||{},$e=Ge.builderId,et=Ge.builderImage,tt=Ge.builderName,at=Ge.reviews,nt=Ge.ratings,ct=null===(a=C.actualHours)||void 0===a?void 0:a.split(":").map((function(e){return parseInt(e)})),st=(null===Ze||void 0===Ze?void 0:Ze[be].amount)*("Fixed price"===(null===Ze||void 0===Ze?void 0:Ze[be].pay_type)?1:(null===ct||void 0===ct?void 0:ct[0])+(null===ct||void 0===ct?void 0:ct[1])/60);Object(l.useEffect)((function(){var e=null===Ze||void 0===Ze?void 0:Ze.filter((function(e){return 3===e.status}));if((null===e||void 0===e?void 0:e.length)>1){var t,a=null===Ze||void 0===Ze?void 0:Ze.find((function(e){return 3===e.status}));ye((function(t){return Object(s.a)(Object(s.a)({},t),{},{multipleDeclineListCount:null===e||void 0===e?void 0:e.length,prevMilestoneDeclineId:null===a||void 0===a?void 0:a.milestoneId,currentMilestoneDeclineId:null===a||void 0===a?void 0:a.milestoneId})})),Ee(null===a||void 0===a||null===(t=a.declinedReason)||void 0===t?void 0:t.url)}else if(1===(null===e||void 0===e?void 0:e.length)){var n,c=null===Ze||void 0===Ze?void 0:Ze.find((function(e){return 3===e.status}));ye((function(t){return Object(s.a)(Object(s.a)({},t),{},{multipleDeclineListCount:null===e||void 0===e?void 0:e.length,prevMilestoneDeclineId:null===c||void 0===c?void 0:c.milestoneId,currentMilestoneDeclineId:null===c||void 0===c?void 0:c.milestoneId})})),Ee(null===c||void 0===c||null===(n=c.declinedReason)||void 0===n?void 0:n.url)}}),[Ze]),console.log(ke,"milestoneDeclineData");var it=function(e){var t;new URLSearchParams(null===(t=A.location)||void 0===t?void 0:t.search).get("jobAction")?A.goBack():ge((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(S.a)({},e,!1))}))};if(null===xe||void 0===xe?void 0:xe.lodge)return Object(g.jsx)(q,{item:{jobId:We,jobName:Xe},backTab:it,history:A});if(null===xe||void 0===xe?void 0:xe.cancel)return Object(g.jsx)(Q,{item:{jobId:We,jobName:Xe},backTab:it,history:A});var lt=function(e){"backStep"===e&&te(5),"verifSuccess"===e&&(D((function(e){return Object(s.a)(Object(s.a)({},e),{},{accountVerified:!0})})),te(5))},rt=function(){var e=[],t=[];return(null===Se||void 0===Se?void 0:Se.length)&&Se.forEach((function(a){2===(null===a||void 0===a?void 0:a.mediaType)?(e.push(a.link),t.push("video")):1===(null===a||void 0===a?void 0:a.mediaType)?(e.push(a.link),t.push("image")):(e.push(a),t.push("image"))})),{sources:e,types:t}}(),ot=rt.sources,dt=rt.types,ut=(null===e||void 0===e?void 0:e.milestoneList)||!1,bt=!1;ut&&ut[0]&&404===(null===(n=ut[0])||void 0===n?void 0:n.status)&&(bt=!0);return Object(g.jsx)("div",{className:"detail_col",children:function(){var e;switch(ee){case 1:return bt?Object(g.jsxs)("div",{className:"custom_container",children:[Object(g.jsx)("div",{className:"vid_img_wrapper pt-20",children:Object(g.jsx)("div",{className:"flex_row",children:Object(g.jsx)("div",{className:"flex_col_sm_8 relative",children:Object(g.jsx)("button",{className:"back",onClick:function(){A.goBack()}})})})}),Object(g.jsxs)("div",{className:"no_record  m-t-vh",children:[Object(g.jsx)("figure",{className:"no_img",children:Object(g.jsx)("img",{src:x.a,alt:"data not found"})}),Object(g.jsx)("span",{children:"This builder is no longer available."}),Object(g.jsx)("span",{children:"Please contact admin."})]})]}):Object(g.jsxs)("div",{className:"flex_row",children:[Object(g.jsxs)("div",{className:"flex_col_sm_6",children:[Object(g.jsxs)("div",{className:"relate",children:[Object(g.jsx)("button",{className:"back",onClick:function(){return A.push("/active-jobs")}}),Object(g.jsx)("span",{className:"xs_sub_title",children:Xe}),Object(g.jsxs)("span",{className:"dot_menu",children:[Object(g.jsx)("img",{src:z.a,alt:"edit"}),Object(g.jsx)("div",{className:"edit_menu",children:Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{onClick:function(){ge((function(e){return Object(s.a)(Object(s.a)({},e),{},{lodge:!0})}))},className:"icon lodge",children:"Lodge dispute"}),Object(g.jsx)("li",{onClick:function(){ge((function(e){return Object(s.a)(Object(s.a)({},e),{},{cancel:!0})}))},className:"icon delete",children:"Cancel job"})]})})]})]}),Object(g.jsx)("p",{className:"commn_para",children:"Your job point of contact has indicated they want to be notified when you reach the following milestones. Tap the milestone and Submit when a milestone is completed"}),ke.multipleDeclineListCount>1&&Object(g.jsx)("button",{className:"fill_grey_btn full_btn pending_info",children:Object(g.jsxs)("span",{children:[Object(g.jsx)("img",{src:X.a,alt:"icon"}),"".concat(ke.multipleDeclineListCount," Milestones were declined")]})}),Object(g.jsx)("ul",{className:"milestones_check",children:null===Ze||void 0===Ze||null===(e=Ze.sort((function(e,t){return e.order-t.order})))||void 0===e?void 0:e.map((function(e,t){var a,n,c,i,l=e.milestoneId,r=e.milestoneName,o=e.isPhotoevidence,d=e.status,u=e.fromDate,b=e.toDate,j=e.declinedReason,m=e.declinedCount,p=null===(a=Ze[t-1])||void 0===a?void 0:a.status,O=(0===d||4===d||5===d)&&([1,2].includes(p)||void 0===p),f=3===d;return Object(g.jsxs)("li",{className:[1,2].includes(d)?"check":O?"active":3===d?"declined":"disabled",children:[Object(g.jsx)("div",{className:"circle_stepper",onClick:function(){Ee(null===j||void 0===j?void 0:j.url),ye((function(e){return Object(s.a)(Object(s.a)({},e),{},{currentMilestoneDeclineId:l})}))},children:Object(g.jsx)("span",{})}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("label",{children:"".concat(r," ").concat(3===d?"declined":"")}),o&&Object(g.jsx)("span",{children:"Photo evidence required"}),Object(g.jsx)("span",{children:Object(v.h)(u,b)})]}),f&&ke.currentMilestoneDeclineId===l&&Object(g.jsxs)(g.Fragment,{children:[(null===(n=Object.keys(j))||void 0===n?void 0:n.length)>0&&Object(g.jsxs)("div",{className:"decline_reason",children:[Object(g.jsx)(J.a,{toggler:Be,slide:Re,sources:ot,types:dt}),Object(g.jsx)("label",{className:"form_label",children:"Decline reason:"}),Object(g.jsx)("div",{className:"text_field",children:Object(g.jsx)("p",{className:"commn_para",children:null===j||void 0===j?void 0:j.reason})}),(null===j||void 0===j||null===(c=j.url)||void 0===c?void 0:c.length)>0&&Object(g.jsx)(F.a,{className:"decline_media",responsive:$,showDots:!1,arrows:!0,children:null===j||void 0===j||null===(i=j.url)||void 0===i?void 0:i.map((function(e,t){return Object(g.jsx)("div",{className:"upload_img_video",children:Object(g.jsx)("figure",{className:"img_video",children:Object(g.jsx)("img",{src:e,alt:"image",onClick:function(){return function(e){Ue((function(e){return!e})),Te(e+1)}(t)}})})})}))})]}),Object(g.jsx)("button",{onClick:function(){m>=5?Object(E.c)(!0,"You have exceeded maximum number of chances to submit the milestone"):(je(t),t===(null===Ze||void 0===Ze?void 0:Ze.length)-1&&oe(!0),te(o?2:3))},className:"fill_btn full_btn btn-effect ".concat(ke.prevMilestoneDeclineId!==l?"disable_btn":""),children:"Remark as Complete"})]}),O&&Object(g.jsx)("button",{className:"fill_btn full_btn btn-effect",onClick:function(){je(t),t===(null===Ze||void 0===Ze?void 0:Ze.length)-1&&oe(!0),te(o?2:3)},children:"Done"})]},l)}))})]}),Object(g.jsxs)("div",{className:"flex_col_sm_6 col_ruler",children:[Object(g.jsx)("span",{className:"sub_title",children:"Posted by"}),Object(g.jsxs)("div",{className:"tradie_card posted_by ",children:[Object(g.jsx)("a",{href:"javascript:void(0)",className:"chat circle",onClick:function(e){var t;e.preventDefault(),A.push({pathname:"/chat",state:{tradieId:null===(t=Y.a.getItem("userInfo"))||void 0===t?void 0:t._id,builderId:$e,jobId:We,jobName:Xe}})}}),Object(g.jsxs)("div",{className:"user_wrap",onClick:function(){return A.push("/builder-info?builderId=".concat($e))},children:[Object(g.jsx)("figure",{className:"u_img",children:Object(g.jsx)("img",{src:et||O.a,alt:"traide-img",onError:function(e){var t,a;(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.onerror)&&(e.target.onerror=null),(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.src)&&(e.target.src=O.a)}})}),Object(g.jsxs)("div",{className:"details",children:[Object(g.jsx)("span",{className:"name",children:tt}),Object(g.jsxs)("span",{className:"rating",children:[nt," | ",at," reviews"]})]})]})]}),Object(g.jsxs)("div",{className:"relate",children:[Object(g.jsx)("span",{className:"sub_title",children:"Job details"}),Object(g.jsx)("span",{className:"edit_icon",title:"More",onClick:function(){return A.push("/job-details-page?jobId=".concat(N.jobId,"&redirect_from=jobs"))},children:Object(g.jsx)("img",{src:K.a,alt:"more"})})]})]})]});case 2:return Object(g.jsx)(L.a,{jobName:Xe,title:"Photo required",para:"Your job point of contact has indicated they want to be notified when you reach the following milestones. Tap the milestone and Submit when a milestone is completed",stepCompleted:ce.includes(2),data:C,handleStepBack:function(){return te(1)},handleStepForward:function(){},handleStepComplete:function(e){D((function(t){return Object(s.a)(Object(s.a)({},t),e)})),se((function(e){return e.concat([2])})),te(3)},hasDescription:!0});case 3:return Object(g.jsx)("div",{className:"flex_row",children:Object(g.jsxs)("div",{className:"flex_col_sm_8",children:[Object(g.jsxs)("div",{className:"relate",children:[Object(g.jsx)("button",{className:"back",onClick:function(){var e;(null===(e=Ze[be])||void 0===e?void 0:e.isPhotoevidence)?te(2):te(1)}}),Object(g.jsx)("span",{className:"xs_sub_title",children:Xe})]}),Object(g.jsx)("span",{className:"sub_title",children:"Worked hours in this milestone"}),Object(g.jsx)("p",{className:"commn_para",children:"The amount paid will be recalculated based on approval of the actual hours by the Builder"}),Object(g.jsxs)("div",{className:"form_field",children:[Object(g.jsx)("label",{className:"form_label",children:"Time Spent"}),Object(g.jsxs)("div",{className:"text_field time_spent",children:[Object(g.jsx)("input",{type:"text",placeholder:"hh:mm",name:"actualHours",value:C.actualHours,onChange:ze,maxLength:5}),Object(g.jsx)("span",{className:"detect_icon",children:"hours"})]}),Object(g.jsx)("span",{className:"error_msg",children:M.actualHours})]}),Object(g.jsx)("button",{className:"fill_btn full_btn btn-effect",onClick:function(){se((function(e){return e.concat([3])}));var e=Ye(C.actualHours);e?R((function(t){return Object(s.a)(Object(s.a)({},t),{},{actualHours:e})})):te(4)},children:"Submit"})]})});case 4:return Object(g.jsxs)("div",{className:"flex_row",children:[Object(g.jsxs)("div",{className:"flex_col_sm_7",children:[Object(g.jsxs)("div",{className:"relate",children:[Object(g.jsx)("button",{className:"back",onClick:function(){return te(3)}}),Object(g.jsx)("span",{className:"xs_sub_title",children:Xe})]}),Object(g.jsx)("span",{className:"sub_title",children:re?"Job Complete":"Add payment details"}),Object(g.jsx)("p",{className:"commn_para",children:re?"Please enter your prefered payment method below so your point of contact can organise payment":"You need to add your bank account details for payment from the builder after approving this milestone"}),re&&Object(g.jsxs)("div",{className:"f_spacebw total_payment",children:[Object(g.jsx)("span",{children:"Total payment"}),Object(g.jsxs)("span",{children:["$",null===st||void 0===st?void 0:st.toFixed(2)]})]}),Object(g.jsxs)("button",{className:"fill_grey_btn bank_btn",children:[C.userId&&Object(g.jsx)("img",{src:W.a,alt:"check"})," Bank account"]})]}),Object(g.jsxs)("div",{className:"flex_col_sm_9",children:[Object(g.jsxs)("div",{className:"form_field",children:[Object(g.jsxs)("span",{className:"payment_note",children:["Tickt does not store your payment information."," "]}),Object(g.jsxs)("p",{className:"commn_para",children:[" ","Tickt does not handle payment for jobs, we only facilitate communication between tradespeople and builders. If you have problems receiving your payment, please contact your builder."]})]}),Object(g.jsx)("button",{className:"fill_btn full_btn btn-effect",onClick:function(){return te(5)},children:C.userId?"Continue":"Add Details"})]})]});case 5:return Object(g.jsx)("div",{className:"flex_row",children:Object(g.jsxs)("div",{className:"flex_col_sm_8",children:[Object(g.jsxs)("div",{className:"relate",children:[Object(g.jsx)("button",{className:"back",onClick:function(){return te(4)}}),Object(g.jsx)("span",{className:"xs_sub_title",children:Xe}),(null===C||void 0===C?void 0:C.userId)&&pe&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"edit_delete",children:[Object(g.jsx)("span",{className:"edit",title:"Edit",onClick:function(){return Oe(!pe)}}),Object(g.jsx)("span",{className:"delete",title:"Remove",onClick:function(){return p()}})]})})]}),Object(g.jsx)("span",{className:"sub_title",children:"Payment Details"}),Object(g.jsx)("p",{className:"commn_para",children:"Enter your bank account details"}),Object(g.jsxs)("div",{className:"form_field",children:[Object(g.jsx)("label",{className:"form_label",children:"Account Name"}),Object(g.jsx)("div",{className:"text_field",children:Object(g.jsx)("input",{type:"text",placeholder:"Enter Account Name",name:"account_name",value:C.account_name,onChange:ze,maxLength:50,readOnly:pe})}),Object(g.jsx)("span",{className:"error_msg",children:M.account_name})]}),Object(g.jsxs)("div",{className:"form_field",children:[Object(g.jsx)("label",{className:"form_label",children:"BSB Number"}),Object(g.jsx)("div",{className:"text_field",children:Object(g.jsx)("input",{type:"text",placeholder:"Enter BSB Number",name:"bsb_number",value:C.bsb_number,onChange:ze,maxLength:7,readOnly:pe})}),Object(g.jsx)("span",{className:"error_msg",children:M.bsb_number})]}),Object(g.jsxs)("div",{className:"form_field",children:[Object(g.jsx)("label",{className:"form_label",children:"Account Number"}),Object(g.jsx)("div",{className:"text_field",children:Object(g.jsx)("input",{type:"number",placeholder:"Enter Account Number",name:"account_number",value:C.account_number,onChange:ze,maxLength:10,max:9999999999,readOnly:pe})}),Object(g.jsx)("span",{className:"error_msg",children:M.account_number})]}),C.account_name&&C.account_number&&C.bsb_number&&C.stripeAccountId&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"form_field",children:Object(g.jsxs)("button",{className:"fill_grey_btn full_btn btn-effect id_verified",onClick:function(){(null===C||void 0===C?void 0:C.accountVerified)||te(6)},children:[(null===C||void 0===C?void 0:C.accountVerified)&&Object(g.jsx)("img",{src:W.a,alt:"verified"}),"".concat((null===C||void 0===C?void 0:C.accountVerified)?"ID Verified":"Add ID Verification")]})}),Object(g.jsx)("span",{className:"show_label id_info",onClick:function(){return Pe(!0)},children:"ID verification is required as part of Stripe ID verification process."})]}),Object(g.jsx)(P.a,{className:"custom_modal",open:He,onClose:function(){return Pe(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(g.jsxs)("div",{className:"custom_wh profile_modal","data-aos":"zoom-in","data-aos-delay":"30","data-aos-duration":"1000",children:[Object(g.jsxs)("div",{className:"heading",children:[Object(g.jsx)("span",{className:"sub_title",children:"ID verification"}),Object(g.jsx)("button",{className:"close_btn",onClick:function(){return Pe(!1)},children:Object(g.jsx)("img",{src:Z.a,alt:"cancel"})})]}),Object(g.jsxs)("div",{className:"inner_wrap",children:[Object(g.jsx)("span",{className:"show_label",children:"ID verification is required as part of Stripe ID verification process."}),Object(g.jsx)("span",{className:"show_label",children:"Below is a spansting of documents that can accept as proof of identity, address, and entity."}),Object(g.jsx)("ul",{className:"verificationid_list",children:G.map((function(e,t){return Object(g.jsx)("li",{className:"show_label",children:e},t)}))}),Object(g.jsx)("div",{className:"bottom_btn custom_btn center",children:Object(g.jsx)("button",{className:"fill_btn full_btn btn-effect",onClick:function(){return Pe(!1)},children:"Ok"})})]})]})}),Object(g.jsx)("button",{className:"fill_btn full_btn btn-effect ".concat(pe?(null===C||void 0===C?void 0:C.accountVerified)?"":"disable_btn":""),onClick:pe?function(){var e={evidence:Ze[be].isPhotoevidence?C.urls:void 0,jobId:N.jobId,milestoneId:Ze[be].milestoneId,description:Ze[be].isPhotoevidence?C.description:void 0,actualHours:C.actualHours,totalAmount:"".concat(null===st||void 0===st?void 0:st.toFixed(2))};f(e,(function(e){var t,a,n={timeStamp:y.b.getCurrentTimeStamp(),category:null===r||void 0===r||null===(t=r.categories)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.trade_name,"Milestone number":be+1};y.b.moE_SendEvent(I.a.MILESTONE_COMPLETED,n),y.a.mixP_SendEvent(I.a.MILESTONE_COMPLETED,n),re?d(e):(se([]),D(_),u())}))}:function(){se((function(e){return e.concat([5])}));var e=["account_name","account_number","bsb_number"].reduce((function(e,t){var a=Fe(t,C[t]);return R((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(S.a)({},t,a))})),e||a}),""),t={account_name:C.account_name,account_number:C.account_number,bsb_number:C.bsb_number};if(!e)if(h.userId)m(Object(s.a)({userId:C.userId},t));else{j(t);var a={timeStamp:y.b.getCurrentTimeStamp()};y.b.moE_SendEvent(I.a.ADDED_PAYMENT_DETAILS,a),y.a.mixP_SendEvent(I.a.ADDED_PAYMENT_DETAILS,a)}},children:pe?"Continue":"Save changes"})]})});case 6:return Object(g.jsx)(H.a,{redirect_from:"mark-milestone",markMilestoneVerif:lt,stripeAccountId:C.stripeAccountId});default:return null}}()})},te=a(283),ae=a.n(te),ne=function(e){var t,a,n,c,r,o=Object(l.useState)({rating:0,review:""}),d=Object(i.a)(o,2),u=d[0],b=d[1],p=Object(l.useState)(""),f=Object(i.a)(p,2),h=f[0],x=f[1],A=Object(l.useState)(!1),N=Object(i.a)(A,2),_=N[0],w=N[1];Object(l.useEffect)((function(){var t,a,n=null===(t=new URLSearchParams(null===(a=e.location)||void 0===a?void 0:a.search))||void 0===t?void 0:t.get("jobId");Object(m.a)(j.a.mark((function t(){var a,c,s,i,l;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return t.next=3,Object(B.F)(n);case 3:(s=t.sent).success&&(x(s.data),w(!0)),t.next=8;break;case 7:(null===e||void 0===e||null===(a=e.location)||void 0===a||null===(c=a.state)||void 0===c?void 0:c.item)&&x(null===e||void 0===e||null===(i=e.location)||void 0===i||null===(l=i.state)||void 0===l?void 0:l.item);case 8:case"end":return t.stop()}}),t)})))()}),[]),console.log(e,"props data",h,"item");var k=function(){var t=Object(m.a)(j.a.mark((function t(){var a,n,c,s,i,l;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==u.rating){t.next=3;break}return Object(E.c)(!0,"Star rating is required"),t.abrupt("return");case 3:if(!(u.rating>0)){t.next=10;break}return(c={jobId:null===h||void 0===h?void 0:h.jobId,builderId:_?null===h||void 0===h||null===(a=h.postedBy)||void 0===a?void 0:a.builderId:null===h||void 0===h||null===(n=h.builderData)||void 0===n?void 0:n.builderId,rating:u.rating,review:u.review.trim()}).review||delete c.review,t.next=8,Object(B.wb)(c);case 8:(null===(s=t.sent)||void 0===s?void 0:s.success)&&(l={timeStamp:y.b.getCurrentTimeStamp()},y.b.moE_SendEvent(I.a.ADDED_REVIEW,l),y.a.mixP_SendEvent(I.a.ADDED_REVIEW,l),null===e||void 0===e||null===(i=e.history)||void 0===i||i.push("/builder-review-submitted"));case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"detail_col",children:Object(g.jsxs)("div",{className:"flex_row",children:[Object(g.jsxs)("div",{className:"flex_col_sm_6",children:[Object(g.jsxs)("div",{className:"relate",children:[Object(g.jsx)("button",{className:"back",onClick:function(){var t;return null===e||void 0===e||null===(t=e.history)||void 0===t?void 0:t.goBack()}}),Object(g.jsx)("span",{className:"xs_sub_title",children:null===h||void 0===h?void 0:h.jobName})]}),Object(g.jsx)("div",{className:"form_field",children:Object(g.jsx)("span",{className:"sub_title",children:"Review completed job"})}),Object(g.jsx)("span",{className:"inner_title",children:"Rate this builder"}),Object(g.jsx)("div",{className:"form_field",children:Object(g.jsx)(ae.a,{count:5,onChange:function(e){console.log(e),b((function(t){return Object(s.a)(Object(s.a)({},t),{},{rating:e})}))},size:55,isHalf:!0,emptyIcon:Object(g.jsx)("i",{className:"far fa-star"}),halfIcon:Object(g.jsx)("i",{className:"fa fa-star-half-alt"}),fullIcon:Object(g.jsx)("i",{className:"fa fa-star"}),activeColor:"#fee600"})}),Object(g.jsxs)("div",{className:"form_field",children:[Object(g.jsx)("label",{className:"form_label",children:"Comment (optional)"}),Object(g.jsx)("div",{className:"text_field",children:Object(g.jsx)("input",{type:"text",placeholder:"Thanks..",maxLength:1e3,onChange:function(e){e.target.value.trim().length<=1e3&&b((function(t){return Object(s.a)(Object(s.a)({},t),{},{review:e.target.value})}))}})})]}),Object(g.jsx)("div",{className:"form_field",children:Object(g.jsx)("button",{className:"fill_btn full_btn btn-effect",onClick:k,children:"Leave review"})})]}),Object(g.jsxs)("div",{className:"flex_col_sm_6 col_ruler",children:[Object(g.jsxs)("div",{className:"relate",children:[Object(g.jsx)("span",{className:"sub_title",children:"Job details"}),Object(g.jsx)("span",{className:"edit_icon",title:"More",onClick:function(){e.history.push("/job-details-page?jobId=".concat(null===h||void 0===h?void 0:h.jobId,"&redirect_from=jobs"))},children:Object(g.jsx)("img",{src:K.a,alt:"more"})})]}),Object(g.jsx)("div",{className:"tradie_card posted_by ",children:Object(g.jsxs)("div",{className:"user_wrap",onClick:function(){return function(){var t,a;e.history.push("/builder-info?builderId=".concat(_?null===(t=h.postedBy)||void 0===t?void 0:t.builderId:null===(a=h.builderData)||void 0===a?void 0:a.builderId))}()},children:[Object(g.jsx)("figure",{className:"u_img",children:Object(g.jsx)("img",{src:_?null===(t=h.postedBy)||void 0===t?void 0:t.builderImage:(null===(a=h.builderData)||void 0===a?void 0:a.builderImage)?null===(n=h.builderData)||void 0===n?void 0:n.builderImage:O.a,alt:"traide-img",onError:function(e){var t,a;(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.onerror)&&(e.target.onerror=null),(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.src)&&(e.target.src=O.a)}})}),Object(g.jsxs)("div",{className:"details",children:[Object(g.jsx)("span",{className:"name",children:(null===(c=h.builderData)||void 0===c?void 0:c.builderName)||(null===(r=h.postedBy)||void 0===r?void 0:r.builderName)}),Object(g.jsx)("span",{className:"prof",children:null===h||void 0===h?void 0:h.jobName}),Object(g.jsx)("span",{className:"prof",children:Object(v.h)(null===h||void 0===h?void 0:h.fromDate,null===h||void 0===h?void 0:h.toDate)})]})]})})]})]})})},ce=a(83),se=a(311),ie=a(69),le=a(565),re=a(609),oe=a(564),de=a(563),ue=a(512),be=a(513),je=function(e){var t,a,n=Object(l.useState)([]),c=Object(i.a)(n,2),r=c[0],o=c[1],d=Object(l.useState)(null),u=Object(i.a)(d,2),b=u[0],v=u[1],p=Object(l.useState)(0),O=Object(i.a)(p,2),f=O[0],h=O[1],x=Object(l.useState)(""),A=Object(i.a)(x,2),N=A[0],_=A[1],w=Object(l.useState)(!1),k=Object(i.a)(w,2),C=k[0],E=k[1],L=Object(l.useState)({item_number:1,description:"",price:0,quantity:0,totalAmount:0}),D=Object(i.a)(L,2),B=D[0],U=D[1],J=Object(l.useState)(!1),M=Object(i.a)(J,2),R=M[0],T=M[1],q=null===(t=e.location)||void 0===t||null===(a=t.state)||void 0===a?void 0:a.jobData;console.log("jobData: ",q),Object(l.useEffect)((function(){Q()}),[]),console.log("Items: ",r);var Q=function(){var t=Object(m.a)(j.a.mark((function t(){var a,n,c,i,l,r,d,u,b,m,v,p,O,f,h,x,g,A,N;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("appliedJobs"===(null===(a=e.location)||void 0===a||null===(n=a.state)||void 0===n?void 0:n.redirect_from))){t.next=9;break}return m={jobId:null===(c=e.location)||void 0===c||null===(i=c.state)||void 0===i||null===(l=i.jobData)||void 0===l?void 0:l.jobId,tradieId:null===(r=Y.a.getItem("userInfo"))||void 0===r?void 0:r._id},t.next=5,Object(se.f)(m);case 5:(v=t.sent).success&&(null===(d=v.data)||void 0===d||null===(u=d.resultData[0])||void 0===u||null===(b=u.quote_item)||void 0===b?void 0:b.length)?(A=null===(p=v.data)||void 0===p||null===(O=p.resultData[0])||void 0===O?void 0:O.quote_item,o(A),_(null===(f=v.data)||void 0===f||null===(h=f.resultData[0])||void 0===h?void 0:h._id),N=(null===(x=A[(null===A||void 0===A?void 0:A.length)-1])||void 0===x?void 0:x.item_number)?(null===(g=A[(null===A||void 0===A?void 0:A.length)-1])||void 0===g?void 0:g.item_number)+1:1,U((function(e){return Object(s.a)(Object(s.a)({},e),{},{item_number:N})})),e.dataFetched(!0)):e.dataFetched(!1),t.next=10;break;case 9:e.dataFetched(!0);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),H=function(){var e=Object(m.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={itemId:null===t||void 0===t?void 0:t._id},e.next=3,Object(se.d)(a);case 3:if(!e.sent.success){e.next=8;break}return e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(m.a)(j.a.mark((function e(t){var a,n,c,s,i,l,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r,c={quoteId:N,item_number:null===t||void 0===t?void 0:t.item_number,description:null===t||void 0===t?void 0:t.description,price:null===t||void 0===t?void 0:t.price,quantity:null===t||void 0===t?void 0:t.quantity,totalAmount:null===t||void 0===t?void 0:t.totalAmount},e.next=4,Object(se.a)(c);case 4:(s=e.sent).success&&(null===(a=s.data)||void 0===a?void 0:a.resultData)&&(n.push(null===(i=s.data)||void 0===i?void 0:i.resultData),o(n),U({item_number:(null===(l=n[(null===n||void 0===n?void 0:n.length)-1])||void 0===l?void 0:l.item_number)?(null===(d=n[(null===n||void 0===n?void 0:n.length)-1])||void 0===d?void 0:d.item_number)+1:1,description:"",price:0,quantity:0,totalAmount:0}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(m.a)(j.a.mark((function e(t,a){var n,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=G(a),c=a[t],s={itemId:null===c||void 0===c?void 0:c._id,item_number:null===c||void 0===c?void 0:c.item_number,description:null===c||void 0===c?void 0:c.description,price:null===c||void 0===c?void 0:c.price,quantity:null===c||void 0===c?void 0:c.quantity,totalAmount:null===c||void 0===c?void 0:c.totalAmount,quoteId:N,amount:n},e.next=5,Object(se.g)(s);case 5:if(!e.sent.success){e.next=10;break}return e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),z=function(){var e,t={timeStamp:y.b.getCurrentTimeStamp(),category:null===q||void 0===q?void 0:q.tradeName,location:null===q||void 0===q?void 0:q.locationName,"Number of milestone":null===q||void 0===q||null===(e=q.jobMilestonesData)||void 0===e?void 0:e.length,Amount:f};y.b.moE_SendEvent(I.a.QUOTED_A_JOB,t),y.a.mixP_SendEvent(I.a.QUOTED_A_JOB,t)},K=function(){var t=Object(m.a)(j.a.mark((function t(){var a,n,c,s,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=null===(a=e.location)||void 0===a||null===(n=a.state)||void 0===n?void 0:n.jobData,i={jobId:null===s||void 0===s?void 0:s.jobId,builderId:null===s||void 0===s||null===(c=s.postedBy)||void 0===c?void 0:c.builderId,tradeId:null===s||void 0===s?void 0:s.tradeId,specializationId:null===s||void 0===s?void 0:s.specializationId},t.next=4,Object(ce.s)(i);case 4:t.sent.success&&(z(),e.history.push({pathname:"/quote-job-success",state:{builderName:e.builderName?e.builderName:"Builder"}}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),W=function(){var t=Object(m.a)(j.a.mark((function t(){var a,n,c,s,i,l,o,d;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=null===(a=e.location)||void 0===a||null===(n=a.state)||void 0===n||null===(c=n.jobData)||void 0===c?void 0:c.jobId,l={jobId:i,userId:null===(s=Y.a.getItem("userInfo"))||void 0===s?void 0:s._id,amount:f,quote_item:r},t.next=4,Object(se.b)(l);case 4:t.sent.success&&("newJobs"===(null===(o=e.location)||void 0===o||null===(d=o.state)||void 0===d?void 0:d.base_redirect)?(z(),e.history.push({pathname:"/quote-job-success",state:{builderName:e.builderName?e.builderName:"Builder"}})):K());case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),X=function(e,t){"description"===e&&t.length>250||U((function(a){return Object(s.a)(Object(s.a)({},a),{},Object(S.a)({},e,"description"===e?t:+t))}))},G=function(e){return e.slice(1,e.length).reduce((function(e,t){return e+t.totalAmount}),r[0].totalAmount)},$=function(){var t=Object(m.a)(j.a.mark((function t(){var a,n,c,s,i,l,d,u,m,p,O;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!ve){t.next=15;break}if(a=b,n=r,(c=B).totalAmount=+c.quantity*+c.price,n[b]=c,s=!0,!N){t.next=11;break}return t.next=10,F(a,n);case 10:s=t.sent;case 11:return s&&(o(n),v(null),U({item_number:(null===(i=n[(null===n||void 0===n?void 0:n.length)-1])||void 0===i?void 0:i.item_number)+1,description:"",price:0,quantity:0,totalAmount:0})),t.abrupt("return");case 15:if(u=r,(m=B).totalAmount=+m.quantity*+m.price,"appliedJobs"!==(null===(l=e.location)||void 0===l||null===(d=l.state)||void 0===d?void 0:d.redirect_from)){t.next=23;break}return t.next=21,V(m);case 21:t.next=26;break;case 23:u.push(m),o(u),U({item_number:(null===(p=u[(null===u||void 0===u?void 0:u.length)-1])||void 0===p?void 0:p.item_number)?(null===(O=u[(null===u||void 0===u?void 0:u.length)-1])||void 0===O?void 0:O.item_number)+1:1,description:"",price:0,quantity:0,totalAmount:0});case 26:R&&T(!1);case 27:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ee=function(e,t){N?(T("yes"===e),t&&$()):$()},te=(B.item_number,B.description),ae=B.price,ne=B.quantity,je=+ne*+ae,me=0===je?"":je,ve=null!==b&&b>-1,pe=function(){var e=Object(m.a)(j.a.mark((function e(){var t,a,n,c,s,i,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=b,c=(n=r).filter((function(e,t){return t!==b})),o(c),v(null),s=null===(t=c[(null===c||void 0===c?void 0:c.length)-1])||void 0===t?void 0:t.item_number,i=s>0?s+1:1,l=!0,!N){e.next=12;break}return e.next=11,H(n[a]);case 11:l=e.sent;case 12:l&&U({item_number:i,description:"",price:0,quantity:0,totalAmount:0}),E(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"flex_col_sm_6",children:[Object(g.jsx)("div",{className:"relate form_field",children:Object(g.jsx)("button",{onClick:function(){var t,a;ve?(v(null),U({item_number:(null===(t=r[(null===r||void 0===r?void 0:r.length)-1])||void 0===t?void 0:t.item_number)?(null===(a=r[(null===r||void 0===r?void 0:r.length)-1])||void 0===a?void 0:a.item_number)+1:1,description:"",price:0,quantity:0,totalAmount:0})):e.history.goBack()},className:"back"})}),Object(g.jsx)("span",{className:"sub_title",children:"Quote for this job"}),Object(g.jsx)(g.Fragment,{children:(null===r||void 0===r?void 0:r.length)>0&&!ve?r.map((function(e,t){return Object(g.jsxs)("div",{className:"change_req",children:[Object(g.jsx)("div",{className:"edit_delete",children:Object(g.jsx)("span",{onClick:function(){v(t),U(e)},className:"editdark"})}),Object(g.jsxs)("div",{className:"flex_row",children:[Object(g.jsx)("div",{className:"flex_col_sm_2",children:Object(g.jsx)("label",{className:"form_label",children:"Item"})}),Object(g.jsx)("div",{className:"flex_col_sm_6",children:Object(g.jsx)("label",{className:"form_label",children:"Description"})}),Object(g.jsx)("div",{className:"flex_col_sm_4",children:Object(g.jsx)("label",{className:"form_label",children:"Price"})}),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"flex_col_sm_2",children:Object(g.jsx)("span",{className:"show_label",children:e.item_number})}),Object(g.jsx)("div",{className:"flex_col_sm_6",children:Object(g.jsx)("span",{className:"show_label line-1",children:e.description})}),Object(g.jsx)("div",{className:"flex_col_sm_4",children:Object(g.jsx)("span",{className:"show_label",children:Object(g.jsx)(ie.a,{value:e.totalAmount,displayType:"text",prefix:"$ ",thousandSeparator:!0,isNumericString:!0})})})]})]})]})})):null}),e.isDataFetched&&Object(g.jsxs)("div",{className:"change_req",children:[ve&&r.length>1&&Object(g.jsxs)("span",{onClick:function(){return E(!0)},className:"delete_quote",children:["Delete",Object(g.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGUSURBVHgBrZQxT8JQEMf/rRVQQkUnjQwMLsYF/Qwm7hpcGCSBxcFBFgYHHdUBP4HRxUUSg5uGRV2Mky5ERwaNJmrAEhOBQr1roimvLQrpf2nfu9zv7t1dTgLpeTwa9SvKgQHE6BhGj5KAQl3X1ydeymWJYT5Fue0HJKja0PVZmTLb8wDGCvMrpffIlAHvVJWdbgOpJOTIpKsX2wKpFSdTWLHB0kkMb27AH19EbTmBtlazwdT8kfk1yFbPn3TaRWDjrIj24xMGZqYROiZHNeQIa5Xu0Tgvwpa9eMEwLZ6wQa0wttXSq2aGolybImbD4gDWgE7q2mUrVMze1QddZGgajA/t99y8vukKYyluBonqplL9fp7J4s6zPjNZ9AwM5nY7aiaNqGaAv6CyM2wbvoX5jppxYzSaS+4sQ4O5nf8BhzJr5LDk2AARykFFDWTVsS3rRav0gMG5mDlnTg0wXt/QvLwC6g187R/a7Dw2FXizbUzJtBzv4JFooE+lCi3YtkcLVuYFO0prm3+IXkB/qpLvBTOY9Q2r2ckRj5uxCgAAAABJRU5ErkJggg==",alt:"delete"})]}),Object(g.jsx)("span",{className:"inner_title",children:"".concat(ve?"Edit":"Add"," Item")}),Object(g.jsxs)("div",{className:"form_field",children:[Object(g.jsx)("label",{className:"form_label",children:"Item Number"}),Object(g.jsx)("div",{className:"text_field",children:Object(g.jsx)("input",{type:"number",value:function(){var e,t,a;return(null===B||void 0===B?void 0:B._id)?(console.log("localQuote?._id-----------if"),null===B||void 0===B?void 0:B.item_number):null!==b?null===(a=r[b])||void 0===a?void 0:a.item_number:(console.log("Items---------else"),(null===(e=r[(null===r||void 0===r?void 0:r.length)-1])||void 0===e?void 0:e.item_number)?(null===(t=r[(null===r||void 0===r?void 0:r.length)-1])||void 0===t?void 0:t.item_number)+1:1)}()})})]}),Object(g.jsxs)("div",{className:"form_field",children:[Object(g.jsx)("label",{className:"form_label",children:"Description"}),Object(g.jsx)("div",{className:"text_field",children:Object(g.jsx)("textarea",{value:te,onChange:function(e){return X("description",e.target.value.trimLeft())}})})]}),Object(g.jsx)("div",{className:"form_field",children:Object(g.jsxs)("div",{className:"flex_row",children:[Object(g.jsxs)("div",{className:"flex_col_sm_4",children:[Object(g.jsx)("label",{className:"form_label",children:"Price"}),Object(g.jsx)("div",{className:"text_field",children:Object(g.jsx)(ie.a,{value:ae||"",decimalScale:2,allowNegative:!1,className:"foo",placeholder:"$100",displayType:"input",thousandSeparator:!0,isNumericString:!0,prefix:"$",onValueChange:function(e){e.formattedValue;var t=e.value;X("price",t)}})})]}),Object(g.jsxs)("div",{className:"flex_col_sm_4",children:[Object(g.jsx)("label",{className:"form_label",children:"Qty"}),Object(g.jsx)("div",{className:"text_field",children:Object(g.jsx)(ie.a,{value:ne||"",className:"foo",placeholder:"10",displayType:"input",thousandSeparator:!0,isNumericString:!0,onValueChange:function(e){e.formattedValue;var t=e.value;X("quantity",t)}})})]}),Object(g.jsxs)("div",{className:"flex_col_sm_4",children:[Object(g.jsx)("label",{className:"form_label",children:"Total"}),Object(g.jsx)("div",{className:"text_field",children:Object(g.jsx)(ie.a,{readOnly:!0,value:me||"",decimalScale:2,allowNegative:!1,className:"foo",placeholder:"$1000",displayType:"input",thousandSeparator:!0,isNumericString:!0,prefix:"$"})})]})]})}),Object(g.jsx)("button",{onClick:function(){return ee("yes")},className:"fill_btn w100per ".concat(0===(null===te||void 0===te?void 0:te.length)||0===ne||0===ae?"disable_btn":""),children:"".concat(ve?"Save":"Add"," Item")})]}),Object(g.jsx)(P.a,{className:"custom_modal",open:C,onClose:function(){return E(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(g.jsxs)("div",{className:"custom_wh confirmation","data-aos":"zoom-in","data-aos-delay":"30","data-aos-duration":"1000",children:[Object(g.jsxs)("div",{className:"heading",children:[Object(g.jsx)("span",{className:"xs_sub_title",children:"Delete item confirmation"}),Object(g.jsx)("button",{className:"close_btn",onClick:function(){return E(!1)},children:Object(g.jsx)("img",{src:Z.a,alt:"cancel"})})]}),Object(g.jsx)("div",{className:"modal_message",children:Object(g.jsx)("p",{children:"Are you sure you still want to delete item?"})}),Object(g.jsxs)("div",{className:"dialog_actions",children:[Object(g.jsx)("button",{className:"fill_btn btn-effect",onClick:pe,children:"Yes"}),Object(g.jsx)("button",{className:"fill_grey_btn btn-effect",onClick:function(){return E(!1)},children:"No"})]})]})}),Object(g.jsxs)(re.a,{open:R,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(g.jsx)(de.a,{id:"alert-dialog-title",className:"xs_alert_dialog_title",children:"This quote will be send to builder"}),Object(g.jsx)(ue.a,{children:Object(g.jsx)(be.a,{children:"Are you sure you want to update quote?"})}),Object(g.jsxs)(oe.a,{children:[Object(g.jsx)(le.a,{onClick:function(){return ee("no",!0)},color:"primary",children:"Yes"}),Object(g.jsx)(le.a,{onClick:function(){return ee("no")},color:"primary",children:"No"})]})]}),(null===r||void 0===r?void 0:r.length)>0&&!ve&&Object(g.jsx)("div",{className:"total_quote",children:Object(g.jsxs)("span",{className:"fill_grey_btn",children:["Total Quote: $",function(){if(null===r||void 0===r?void 0:r.length){var e=G(r);return e&&e!==f&&h(e),Object(g.jsx)(ie.a,{value:e,decimalScale:2,displayType:"text",thousandSeparator:!0,isNumericString:!0})}return"$0"}()]})}),N||!e.isDataFetched||ve?null:Object(g.jsx)("button",{onClick:W,className:"fill_grey_btn quote_btn ".concat(0===(null===r||void 0===r?void 0:r.length)?"disable_btn":""),children:"Submit Quote"})]})},me=function(e){var t,a,n,c=Object(l.useState)({}),r=Object(i.a)(c,2),o=r[0],d=r[1],u=Object(l.useState)(!1),b=Object(i.a)(u,2),v=b[0],p=b[1],f=Object(l.useState)(!0),h=Object(i.a)(f,2),A=h[0],N=h[1],_=null===(t=e.location)||void 0===t||null===(a=t.state)||void 0===a?void 0:a.jobData,w=new URLSearchParams(null===(n=e.location)||void 0===n?void 0:n.search),k=w.get("jobId"),y=w.get("tradeId"),I=w.get("specializationId");Object(l.useEffect)((function(){(null===_||void 0===_?void 0:_.postedBy)||C()}),[_]);var C=function(){var e=Object(m.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},A||N(!0),t.jobId=k||(null===_||void 0===_?void 0:_.jobId),t.tradeId=y||(null===_||void 0===_?void 0:_.tradeId),t.specializationId=I||(null===_||void 0===_?void 0:_.specializationId),e.next=7,Object(ce.c)(t);case 7:(a=e.sent).success&&d(null===a||void 0===a?void 0:a.data),N(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=(null===o||void 0===o?void 0:o.postedBy)||(null===_||void 0===_?void 0:_.postedBy)||{},E=S.builderId,L=S.builderImage,D=S.builderName,B=(S.jobName,S.ratings),U=S.reviews;return Object(g.jsx)("div",{className:"detail_col",children:Object(g.jsxs)("div",{className:"flex_row",children:[Object(g.jsx)(je,Object(s.a)(Object(s.a)({},e),{},{builderName:D,jobId:k,dataFetched:function(e){p(e),_&&N(!1)},isDataFetched:v})),v?Object(g.jsxs)("div",{className:"flex_col_sm_6 col_ruler",children:[Object(g.jsx)("span",{className:"sub_title",children:"Posted by"}),Object(g.jsx)("div",{className:"tradie_card posted_by ",children:Object(g.jsxs)("div",{className:"user_wrap",onClick:function(){e.history.push("/builder-info?builderId=".concat(E))},children:[Object(g.jsx)("figure",{className:"u_img",children:Object(g.jsx)("img",{src:L||O.a,alt:"traide-img",onError:function(e){var t,a;(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.onerror)&&(e.target.onerror=null),(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.src)&&(e.target.src=O.a)}})}),Object(g.jsxs)("div",{className:"details",children:[Object(g.jsx)("span",{className:"name",children:D}),Object(g.jsxs)("span",{className:"rating",children:[B," | ",U," reviews"]})]})]})}),Object(g.jsxs)("div",{className:"relate",children:[Object(g.jsx)("span",{className:"sub_title",children:"Job details"}),Object(g.jsx)("span",{className:"edit_icon",title:"More",onClick:function(){return e.history.push("/job-details-page?jobId=".concat(k||(null===_||void 0===_?void 0:_.jobId),"&redirect_from=jobs"))},children:Object(g.jsx)("img",{src:K.a,alt:"more"})})]})]}):!e.loading&&!A&&Object(g.jsxs)("div",{className:"no_record  m-t-vh",children:[Object(g.jsx)("figure",{className:"no_img",children:Object(g.jsx)("img",{src:x.a,alt:"data not found"})}),Object(g.jsx)("span",{children:"No Data Found"})]})]})})},ve=function(e){var t=Object(l.useState)([]),a=Object(i.a)(t,2),n=a[0],c=a[1],s=Object(l.useState)(0),r=Object(i.a)(s,2),o=r[0],d=r[1];Object(l.useEffect)((function(){u()}),[]);var u=function(){var t=Object(m.a)(j.a.mark((function t(){var a,n,s,i,l,r,o,u,b,m,v,p,O;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u={jobId:null===(a=e.location)||void 0===a||null===(n=a.state)||void 0===n||null===(s=n.jobData)||void 0===s?void 0:s.jobId,tradieId:null===(i=Y.a.getItem("userInfo"))||void 0===i?void 0:i._id},t.next=3,Object(se.f)(u);case 3:(b=t.sent).success&&(null===(l=b.data)||void 0===l||null===(r=l.resultData[0])||void 0===r||null===(o=r.quote_item)||void 0===o?void 0:o.length)?(c(null===(m=b.data)||void 0===m||null===(v=m.resultData[0])||void 0===v?void 0:v.quote_item),d(null===(p=b.data)||void 0===p||null===(O=p.resultData[0])||void 0===O?void 0:O.totalQuoteAmount),e.dataFetched(!0)):e.dataFetched(!1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"flex_col_sm_6",children:[Object(g.jsx)("div",{className:"relate form_field",children:Object(g.jsx)("button",{onClick:function(){return e.history.goBack()},className:"back"})}),Object(g.jsx)("span",{className:"sub_title",children:"Your Quote"}),Object(g.jsx)(g.Fragment,{children:(null===n||void 0===n?void 0:n.length)>0&&n.map((function(e,t){return Object(g.jsx)("div",{className:"change_req",children:Object(g.jsxs)("div",{className:"flex_row",children:[Object(g.jsx)("div",{className:"flex_col_sm_2",children:Object(g.jsx)("label",{className:"form_label",children:"Item"})}),Object(g.jsx)("div",{className:"flex_col_sm_6",children:Object(g.jsx)("label",{className:"form_label",children:"Description"})}),Object(g.jsx)("div",{className:"flex_col_sm_4",children:Object(g.jsx)("label",{className:"form_label",children:"Price"})}),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"flex_col_sm_2",children:Object(g.jsx)("span",{className:"show_label",children:e.item_number})}),Object(g.jsx)("div",{className:"flex_col_sm_6",children:Object(g.jsx)("span",{className:"show_label line-1",children:e.description})}),Object(g.jsx)("div",{className:"flex_col_sm_4",children:Object(g.jsx)("span",{className:"show_label",children:Object(g.jsx)(ie.a,{value:e.totalAmount,displayType:"text",prefix:"$ ",thousandSeparator:!0,isNumericString:!0})})})]})]})})}))}),(null===n||void 0===n?void 0:n.length)>0&&Object(g.jsx)("div",{className:"total_quote",children:Object(g.jsxs)("span",{className:"fill_grey_btn",children:["Total Quote: ",Object(g.jsx)(ie.a,{value:o,displayType:"text",prefix:"$",thousandSeparator:!0,isNumericString:!0})]})})]})},pe=function(e){var t,a,n,c,r,o,d,u,b,v=Object(l.useState)({}),p=Object(i.a)(v,2),f=p[0],h=p[1],A=Object(l.useState)(!1),N=Object(i.a)(A,2),_=N[0],w=N[1],k=Object(l.useState)(!0),y=Object(i.a)(k,2),I=y[0],C=y[1];Object(l.useEffect)((function(){D()}),[]);var S=null===(t=e.location)||void 0===t||null===(a=t.state)||void 0===a||null===(n=a.jobData)||void 0===n?void 0:n.jobId,E=null===(c=e.location)||void 0===c||null===(r=c.state)||void 0===r||null===(o=r.jobData)||void 0===o?void 0:o.tradeId,L=null===(d=e.location)||void 0===d||null===(u=d.state)||void 0===u||null===(b=u.jobData)||void 0===b?void 0:b.specializationId,D=function(){var e=Object(m.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t={}).jobId=S,t.tradeId=E,t.specializationId=L,e.next=6,Object(ce.c)(t);case 6:(a=e.sent).success&&h(null===a||void 0===a?void 0:a.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=(null===f||void 0===f?void 0:f.postedBy)||{},U=B.builderId,J=B.builderImage,M=B.builderName,R=B.jobName,T=B.ratings,q=B.reviews;return Object(g.jsx)("div",{className:"detail_col",children:Object(g.jsxs)("div",{className:"flex_row",children:[Object(g.jsx)(ve,Object(s.a)(Object(s.a)({},e),{},{jobId:S,dataFetched:function(e){w(e),C(!1)}})),_?Object(g.jsxs)("div",{className:"flex_col_sm_6 col_ruler",children:[Object(g.jsx)("span",{className:"sub_title",children:"Posted by"}),Object(g.jsxs)("div",{className:"tradie_card posted_by ",children:[Object(g.jsx)("a",{href:"javascript:void(0)",className:"chat circle",onClick:function(t){var a;t.preventDefault(),e.history.push({pathname:"/chat",state:{tradieId:null===(a=Y.a.getItem("userInfo"))||void 0===a?void 0:a._id,builderId:U,jobId:S,jobName:R}})}}),Object(g.jsxs)("div",{className:"user_wrap",onClick:function(){e.history.push("/builder-info?builderId=".concat(U))},children:[Object(g.jsx)("figure",{className:"u_img",children:Object(g.jsx)("img",{src:J||O.a,alt:"traide-img",onError:function(e){var t,a;(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.onerror)&&(e.target.onerror=null),(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.src)&&(e.target.src=O.a)}})}),Object(g.jsxs)("div",{className:"details",children:[Object(g.jsx)("span",{className:"name",children:M}),Object(g.jsxs)("span",{className:"rating",children:[T," | ",q," reviews"]})]})]})]}),Object(g.jsxs)("div",{className:"relate",children:[Object(g.jsx)("span",{className:"sub_title",children:"Job details"}),Object(g.jsx)("span",{className:"edit_icon",title:"More",onClick:function(){return e.history.push("/job-details-page?jobId=".concat(S,"&redirect_from=jobs"))},children:Object(g.jsx)("img",{src:K.a,alt:"more"})})]})]}):!e.loading&&!I&&Object(g.jsxs)("div",{className:"no_record  m-t-vh",children:[Object(g.jsx)("figure",{className:"no_img",children:Object(g.jsx)("img",{src:x.a,alt:"data not found"})}),Object(g.jsx)("span",{children:"No Data Found"})]})]})})},Oe=a(312),fe=a(304),he=a(284),xe=a.p+"static/media/tick.63df5f32.svg",ge=function(e){var t,a=e.loading,n=e.getActiveJobList,c=e.activeJobList,r=e.getAppliedJobList,u=e.appliedJobList,b=e.getPastJobList,j=e.pastJobList,m=e.getNewJobList,v=e.newJobList,p=e.getApprovedMilestoneList,O=e.approvedMilestoneList,f=e.getMilestoneList,h=e.milestoneList,x=e.milestonesCount,_=e.newJobsCount,y=e.addBankDetails,I=e.updateBankDetails,S=e.getBankDetails,E=e.removeBankDetails,L=e.markMilestoneComplete,D=e.bankDetails,B=e.resetActiveJobList,U=e.resetAppliedJobList,J=e.resetPastJobList,M=e.resetNewJobList,R=e.resetApprovedMilestoneList,T=Object(o.g)(),q=Object(o.h)().pathname,Q=new URLSearchParams(null===(t=T.location)||void 0===t?void 0:t.search);Q={jobId:Q.get("jobId"),tradeId:Q.get("tradeId"),specializationId:Q.get("specializationId")};var H=Object(l.useState)(!1),P=Object(i.a)(H,2),Y=P[0],V=P[1],F=Object(l.useState)(!1),z=Object(i.a)(F,2),K=z[0],W=z[1],X=Object(l.useState)(!1),Z=Object(i.a)(X,2),G=Z[0],$=Z[1],te=G&&"".concat(G).concat("".concat(G).endsWith("1")?"st":"".concat(G).endsWith("2")?"nd":"".concat(G).endsWith("3")?"rd":"th");return K?Object(g.jsx)("div",{className:"img_text_wrap",children:Object(g.jsxs)("figure",{className:"full_image",children:[Object(g.jsx)("img",{src:he.a,alt:"template-image"}),Object(g.jsx)("div",{className:"short_info",children:Object(g.jsxs)("div",{className:"content",children:[Object(g.jsx)("h1",{className:"title",children:"Milestone is completed!"}),Object(g.jsx)("span",{className:"show_label",children:"Nice one! The builder will review any required photos and approve your milestone shortly."}),Object(g.jsx)("img",{className:"tick_img",src:xe}),Object(g.jsx)("div",{className:"btn_wrapr",children:Object(g.jsx)("button",{className:"fill_btn btn-effect",onClick:function(){T.push("/mark-milestone?jobId=".concat(Q.jobId,"&redirect_from=jobs")),W(!1)},children:"OK"})})]})})]})}):G?Object(g.jsx)("div",{className:"img_text_wrap",children:Object(g.jsxs)("figure",{className:"full_image",children:[Object(g.jsx)("img",{src:he.a,alt:"template-image"}),Object(g.jsx)("div",{className:"short_info",children:Object(g.jsxs)("div",{className:"content",children:[Object(g.jsxs)("h1",{className:"title",children:["Your ",te," job is completed!"]}),Object(g.jsxs)("span",{className:"show_label",children:["You have completed your ",te," Job using Tickt! Click here to view your completed jobs or leave a review. You will be paid as soon as the builder signs off."]}),Object(g.jsxs)("div",{className:"btn_wrapr",children:[Object(g.jsx)("button",{className:"fill_btn btn-effect",onClick:function(){T.push("/mark-milestone?jobId=".concat(Q.jobId,"&redirect_from=jobs")),$(!1)},children:"OK"}),Object(g.jsx)("button",{className:"fill_btn white_btn",onClick:function(){T.push("/past-jobs"),$(!1)},children:"See completed jobs"})]})]})})]})}):Object(g.jsx)("div",{className:"app_wrapper",children:Object(g.jsxs)("div",{className:"custom_container",children:[Object(g.jsx)("span",{className:"mob_side_nav",onClick:function(){return V(!Y)},children:Object(g.jsx)("img",{src:Oe.a,alt:"mob-side-nav"})}),Object(g.jsxs)("div",{className:"f_row h-100",children:[Object(g.jsxs)("div",{className:"side_nav_col".concat(Y?" active":""),children:[Object(g.jsx)("button",{className:"close_nav",onClick:function(){return V(!1)},children:Object(g.jsx)("img",{src:fe.a,alt:"close"})}),Object(g.jsxs)("div",{className:"stick",children:[Object(g.jsx)("span",{className:"title",children:"Job Dashboard"}),Object(g.jsxs)("ul",{className:"dashboard_menu",children:[Object(g.jsx)("li",{children:Object(g.jsx)(d.c,{className:"icon star",to:"/active-jobs",isActive:function(){return["/active-jobs","/mark-milestone","/active-quote-job"].includes(q)},children:Object(g.jsx)("span",{className:"menu_txt",children:"Active"})})}),Object(g.jsx)("li",{children:Object(g.jsx)(d.c,{className:"icon applied",to:"/applied-jobs",isActive:function(){return["/applied-jobs","/quote-job"].includes(q)},children:Object(g.jsx)("span",{className:"menu_txt",children:"Applied"})})}),Object(g.jsx)("li",{children:Object(g.jsx)(d.c,{className:"icon past",to:"/past-jobs",children:Object(g.jsx)("span",{className:"menu_txt",children:"Past"})})}),Object(g.jsx)("li",{children:Object(g.jsx)(d.c,{className:"icon new",to:"/new-jobs",children:Object(g.jsxs)("span",{className:"menu_txt",children:["New",!!_&&Object(g.jsx)("span",{className:"badge_count",children:_>9?"9+":_})]})})}),Object(g.jsx)("li",{children:Object(g.jsx)(d.c,{className:"icon approved",to:"/approved-milestones",children:Object(g.jsxs)("span",{className:"menu_txt",children:["Approved Milestones",!!x&&Object(g.jsx)("span",{className:"badge_count",children:x>9?"9+":x})]})})})]})]})]}),Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(o.d,{children:[Object(g.jsx)(o.b,{path:"/active-jobs",render:function(e){return Object(l.createElement)(A,Object(s.a)(Object(s.a)({},e),{},{key:e.location.key,loading:a,newJobsCount:_,getActiveJobList:n,resetActiveJobList:B,activeJobList:c}))}}),Object(g.jsx)(o.b,{path:"/applied-jobs",render:function(e){return Object(l.createElement)(N,Object(s.a)(Object(s.a)({},e),{},{key:e.location.key,loading:a,newJobsCount:_,appliedJobList:u,getAppliedJobList:r,resetAppliedJobList:U}))}}),Object(g.jsx)(o.b,{path:"/past-jobs",render:function(e){return Object(l.createElement)(w,Object(s.a)(Object(s.a)({},e),{},{key:e.location.key,loading:a,newJobsCount:_,pastJobList:j,getPastJobList:b,resetPastJobList:J}))}}),Object(g.jsx)(o.b,{path:"/new-jobs",render:function(e){return Object(l.createElement)(k,Object(s.a)(Object(s.a)({},e),{},{key:e.location.key,loading:a,newJobsCount:_,newJobList:v,getNewJobList:m,resetNewJobList:M}))}}),Object(g.jsx)(o.b,{path:"/approved-milestones",render:function(e){return Object(l.createElement)(C,Object(s.a)(Object(s.a)({},e),{},{key:e.location.key,loading:a,newJobsCount:_,approvedMilestoneList:O,getApprovedMilestoneList:p,resetApprovedMilestoneList:R}))}}),Object(g.jsx)(o.b,{path:"/mark-milestone",render:function(e){return Object(g.jsx)(ee,Object(s.a)({getMilestoneList:f,milestoneList:h,showMilestoneCompletePage:function(){return W(!0)},showJobCompletePage:function(e){return $(e)},getBankDetails:S,addBankDetails:y,updateBankDetails:I,removeBankDetails:E,markMilestoneComplete:L,bankDetails:D},e))}}),Object(g.jsx)(o.b,{path:"/quote-job",render:function(e){return Object(g.jsx)(me,Object(s.a)({},e))}}),Object(g.jsx)(o.b,{path:"/active-quote-job",render:function(e){return Object(g.jsx)(pe,Object(s.a)({},e))}}),Object(g.jsx)(o.b,{path:"/review-builder",render:function(e){return Object(g.jsx)(ne,Object(s.a)(Object(s.a)({},e),{},{history:T}))}})]})})]})]})})},Ae=a(68),Ne=Object(n.b)((function(e){var t=e.jobs,a=t.activeJobList,n=t.appliedJobList,c=t.pastJobList,s=t.newJobList,i=t.approvedMilestoneList,l=t.milestonesCount,r=t.newJobsCount;return{activeJobList:a,appliedJobList:n,pastJobList:c,newJobList:s,approvedMilestoneList:i,milestoneList:t.milestoneList,milestonesCount:l,newJobsCount:r,bankDetails:e.profile.bankDetails,loading:e.common.isLoading}}),(function(e){return Object(c.b)({getActiveJobList:B.x,getAppliedJobList:B.z,getPastJobList:B.P,getNewJobList:B.M,getApprovedMilestoneList:B.A,getMilestoneList:B.I,getBankDetails:Ae.g,addBankDetails:Ae.a,updateBankDetails:Ae.y,removeBankDetails:Ae.q,markMilestoneComplete:B.hb,resetActiveJobList:B.rb,resetAppliedJobList:B.sb,resetPastJobList:B.vb,resetNewJobList:B.ub,resetApprovedMilestoneList:B.tb},e)}))(ge);t.default=Ne}}]);
//# sourceMappingURL=19.4d180e90.chunk.js.map